/* ==========================================================================
   Text Overlap Fixes - 텍스트 겹침 문제 해결
   ========================================================================== */

/* ===== GLOBAL TEXT OVERLAP PREVENTION ===== */
/* 모든 텍스트 요소에 기본 겹침 방지 적용 */

/* 1. 기본 텍스트 요소 */
p, h1, h2, h3, h4, h5, h6, li, td, th, span, a, label, button {
  /* 한글 최적화 */
  word-break: keep-all;
  word-wrap: break-word;
  overflow-wrap: break-word;
  
  /* 줄 간격 확보 */
  line-height: 1.7;
  
  /* 여백 확보 */
  margin-bottom: 0.5em;
}

/* 2. 플렉스/그리드 컨테이너 내 텍스트 */
.flex-container > *, 
.grid-container > *,
[class*="flex"] > *,
[class*="grid"] > * {
  flex-shrink: 0; /* 아이콘/이모지 축소 방지 */
  min-width: 0; /* 텍스트 오버플로우 허용 */
}

/* 3. 아이콘과 텍스트 조합 */
.icon-text,
[class*="icon"] + span,
[class*="icon"] + p,
span + span,
.emoji + span {
  display: inline-flex;
  align-items: center;
  gap: 0.5em;
}

/* ===== FAQ PAGE SPECIFIC FIXES ===== */
/* FAQ 페이지 특별 처리 (가장 심각: 219개 겹침) */

[data-page="faq"] .faq-item,
.faq-item {
  margin-bottom: 1.5rem;
  padding: 1rem;
  clear: both;
}

[data-page="faq"] .faq-question,
.faq-question {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  margin-bottom: 1rem;
  line-height: 1.8;
}

[data-page="faq"] .faq-answer,
.faq-answer {
  padding-left: 2rem;
  line-height: 1.8;
  margin-top: 0.5rem;
}

[data-page="faq"] .faq-number,
.faq-number {
  flex-shrink: 0;
  min-width: 2rem;
  font-weight: bold;
}

/* ===== HOME PAGE FIXES ===== */
/* 홈페이지 (69개 겹침) */

[data-page="home"] .hero-section {
  padding: 2rem 1rem;
}

[data-page="home"] .service-card {
  padding: 1.5rem;
  margin-bottom: 1rem;
}

[data-page="home"] .service-title {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ===== TEST PAGES FIXES ===== */
/* 테스트 페이지들 */

[data-page*="test"] .question-item {
  margin-bottom: 1.5rem;
  padding: 1rem;
}

[data-page*="test"] .option-label {
  display: block;
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ===== TOOL PAGES FIXES ===== */
/* 도구 페이지들 */

[data-page*="tool"] .tool-description {
  margin-bottom: 1.5rem;
  line-height: 1.8;
}

[data-page*="tool"] .result-item {
  padding: 1rem;
  margin-bottom: 1rem;
}

/* ===== MOBILE SPECIFIC FIXES ===== */
/* 모바일 전용 수정 (320px ~ 768px) */

@media (max-width: 768px) {
  /* 기본 텍스트 요소 모바일 최적화 */
  p, h1, h2, h3, h4, h5, h6, li, span, a {
    font-size: max(14px, 0.875rem);
    line-height: 1.8;
    margin-bottom: 0.75em;
  }
  
  /* 제목 크기 조정 */
  h1 { font-size: 1.75rem; }
  h2 { font-size: 1.5rem; }
  h3 { font-size: 1.25rem; }
  h4 { font-size: 1.125rem; }
  
  /* 컨테이너 패딩 증가 */
  .container,
  .content,
  main {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  /* FAQ 모바일 최적화 */
  [data-page="faq"] .faq-item {
    padding: 1.25rem 0.75rem;
    margin-bottom: 2rem;
  }
  
  [data-page="faq"] .faq-answer {
    padding-left: 1rem;
  }
  
  /* 카드 컴포넌트 모바일 최적화 */
  .card,
  .service-card,
  .result-card {
    padding: 1.25rem;
    margin-bottom: 1.25rem;
  }
  
  /* 버튼 모바일 최적화 */
  button,
  .button,
  .btn {
    padding: 0.75rem 1.25rem;
    font-size: 1rem;
    line-height: 1.5;
  }
  
  /* 폼 요소 모바일 최적화 */
  input,
  textarea,
  select {
    padding: 0.75rem;
    font-size: 16px; /* iOS 줌 방지 */
    line-height: 1.5;
  }
}

/* ===== CRITICAL OVERLAP FIXES ===== */
/* 긴급 텍스트 겹침 수정 */

/* Z-index 계층 정리 */
.header,
.navbar { z-index: 1000; }
.modal { z-index: 2000; }
.tooltip { z-index: 3000; }

/* 절대 위치 요소 수정 */
[style*="position: absolute"] {
  z-index: 1;
}

/* 인라인 스타일 오버라이드 */
[style*="line-height"] {
  line-height: 1.7 !important;
}

[style*="margin"] {
  margin-bottom: 0.5em !important;
}

/* ===== ANIMATION CONFLICT FIXES ===== */
/* 애니메이션 충돌 해결 */

/* 과도한 애니메이션 제거 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* 애니메이션 최적화 */
.animated {
  will-change: auto;
  backface-visibility: hidden;
}

/* ===== PRINT STYLES ===== */
/* 인쇄 시 텍스트 겹침 방지 */

@media print {
  * {
    page-break-inside: avoid;
  }
  
  p, h1, h2, h3, h4, h5, h6 {
    orphans: 3;
    widows: 3;
  }
  
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
}