/* ==========================================================================
   Horizontal Scroll Prevention - 수평 스크롤 방지 유틸리티
   모든 페이지에서 수평 스크롤을 방지하는 포괄적인 규칙
   ========================================================================== */

/* ===== GLOBAL HORIZONTAL SCROLL PREVENTION ===== */
/* 전역 수평 스크롤 방지 */

/* 페이지 레벨 */
html, body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
  box-sizing: border-box;
}

/* 모든 컨테이너 요소 */
*,
*::before,
*::after {
  max-width: 100%;
  box-sizing: border-box;
}

/* 레이아웃 컨테이너 */
.container,
.dh-l-content,
.dh-l-wrapper,
.dh-l-section,
.page,
.dh-l-main,
.dh-l-header,
.dh-l-footer,
.nav,
.navbar,
main,
header,
footer,
nav,
article,
section,
aside,
div {
  overflow-x: hidden;
  max-width: 100%;
  box-sizing: border-box;
}

/* ===== RESPONSIVE MEDIA ELEMENTS ===== */
/* 반응형 미디어 요소 */

/* 이미지 */
img,
picture,
video,
canvas,
svg,
iframe,
embed,
object {
  max-width: 100% !important;
  height: auto;
  display: block;
  box-sizing: border-box;
}

/* 이미지 컨테이너 */
.image-container,
.img-container,
.video-container,
.media-container {
  overflow: hidden;
  max-width: 100%;
  box-sizing: border-box;
}

/* ===== TABLE RESPONSIVE HANDLING ===== */
/* 테이블 반응형 처리 */

/* 테이블 컨테이너 */
.table-container {
  overflow-x: auto;
  max-width: 100%;
  margin: 1rem 0;
  border-radius: 8px;
  border: 1px solid var(--border-primary, #e5e7eb);
}

/* 테이블 기본 */
table {
  width: 100%;
  max-width: 100%;
  border-collapse: collapse;
  table-layout: auto;
}

/* 모바일에서 테이블 최적화 */
@media (max-width: 768px) {
  table {
    font-size: 0.875rem;
    min-width: 100%;
  }
  
  th, td {
    padding: 0.5rem;
    white-space: nowrap;
  }
  
  /* 긴 텍스트가 있는 테이블 셀 */
  .table-cell-wrap {
    white-space: normal;
    word-break: break-word;
    min-width: 120px;
  }
}

/* ===== FORM ELEMENTS ===== */
/* 폼 요소 */

form,
.form,
.form-group,
.form-row {
  max-width: 100%;
  overflow-x: hidden;
  box-sizing: border-box;
}

input,
textarea,
select,
button {
  max-width: 100%;
  box-sizing: border-box;
}

/* 긴 URL이나 텍스트 입력 */
input[type="url"],
input[type="email"],
textarea {
  word-break: break-all;
  overflow-wrap: break-word;
}

/* ===== GRID AND FLEX LAYOUTS ===== */
/* 그리드 및 플렉스 레이아웃 */

/* 그리드 시스템 */
.dh-l-grid,
.grid-container,
[class*="grid-"],
[class*="col-"] {
  max-width: 100%;
  overflow-x: hidden;
  box-sizing: border-box;
}

/* 플렉스 컨테이너 */
.dh-l-flex,
.flex-container,
.d-flex,
[class*="flex-"] {
  max-width: 100%;
  overflow-x: hidden;
  box-sizing: border-box;
}

/* 모바일에서 플렉스 래핑 강제 */
@media (max-width: 768px) {
  .dh-l-flex,
  .d-flex {
    flex-wrap: wrap;
  }
}

/* ===== TEXT CONTENT ===== */
/* 텍스트 콘텐츠 */

/* 긴 텍스트 처리 */
p,
h1, h2, h3, h4, h5, h6,
span,
div,
li,
td, th,
a,
label {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  max-width: 100%;
}

/* 코드 블록 */
pre,
code {
  overflow-x: auto;
  max-width: 100%;
  white-space: pre-wrap;
  word-break: break-all;
}

/* ===== CARD COMPONENTS ===== */
/* 카드 컴포넌트 */

.dh-c-card,
.card-container,
[class*="card-"] {
  max-width: 100%;
  overflow-x: hidden;
  box-sizing: border-box;
}

.card-body,
.card-content {
  overflow-x: hidden;
  word-wrap: break-word;
}

/* ===== BUTTON GROUPS ===== */
/* 버튼 그룹 */

.btn-group,
.button-group,
.buttons {
  max-width: 100%;
  overflow-x: auto;
  white-space: nowrap;
}

@media (max-width: 768px) {
  .btn-group,
  .button-group,
  .buttons {
    flex-direction: column;
    white-space: normal;
  }
  
  .btn-group .dh-c-btn,
  .button-group .dh-c-btn,
  .buttons .dh-c-btn {
    width: 100%;
    margin: 0.25rem 0;
  }
}

/* ===== NAVIGATION ===== */
/* 네비게이션 */

.navbar,
.nav,
.navigation,
.menu {
  max-width: 100%;
  overflow-x: hidden;
  box-sizing: border-box;
}

.navbar-nav,
.nav-list,
.menu-list {
  max-width: 100%;
  overflow-x: auto;
}

@media (max-width: 768px) {
  .navbar-nav,
  .nav-list,
  .menu-list {
    flex-direction: column;
    overflow-x: visible;
  }
}

/* ===== MODAL AND OVERLAY ===== */
/* 모달 및 오버레이 */

.dh-c-modal,
.overlay,
.popup {
  max-width: 100vw;
  overflow-x: hidden;
  box-sizing: border-box;
}

.modal-content,
.modal-body {
  max-width: 100%;
  overflow-x: hidden;
  word-wrap: break-word;
}

/* ===== UTILITY CLASSES ===== */
/* 유틸리티 클래스 */

/* 수평 스크롤 방지 강제 적용 */
.no-horizontal-scroll {
  overflow-x: hidden !important;
  max-width: 100% !important;
}

/* 반응형 컨테이너 */
.responsive-container {
  max-width: 100%;
  overflow-x: hidden;
  padding-left: 1rem;
  padding-right: 1rem;
  margin-left: auto;
  margin-right: auto;
  box-sizing: border-box;
}

/* 텍스트 줄바꿈 강제 */
.text-break {
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  word-break: break-word !important;
  hyphens: auto !important;
}

/* 한글 최적화 텍스트 */
.text-korean {
  word-break: keep-all;
  overflow-wrap: break-word;
  hyphens: none;
}

/* ===== PRINT STYLES ===== */
/* 인쇄 스타일 */

@media print {
  *,
  *::before,
  *::after {
    overflow: visible !important;
    max-width: none !important;
  }
  
  .no-print {
    display: none !important;
  }
}

/* ===== EMERGENCY FIXES ===== */
/* 긴급 수정 규칙 */

/* 특정 문제가 있는 요소들에 대한 강제 수정 */
[style*="width"] {
  max-width: 100% !important;
}

/* 인라인 스타일로 설정된 넓은 너비 제한 */
[style*="px"],
[style*="vw"],
[style*="vh"] {
  max-width: 100vw !important;
}

/* 절대 위치 요소 */
.position-absolute,
.absolute,
[style*="position: absolute"] {
  max-width: calc(100vw - 2rem);
  right: 1rem;
}

/* 고정 위치 요소 */
.position-fixed,
.fixed,
[style*="position: fixed"] {
  max-width: 100vw;
  left: 0;
  right: 0;
}

/* ===== DEBUGGING ===== */
/* 디버깅용 */

/* 개발 환경에서 수평 스크롤 발생 요소 확인 */
@media screen and (max-width: 9999px) {
  .debug-horizontal-scroll * {
    outline: 1px solid red;
  }
  
  .debug-horizontal-scroll *:hover {
    background-color: rgba(255, 0, 0, 0.1);
  }
}