/* Optimized Font Loading Strategy - CDN Based */

/* Primary: CDN.JSDELIVR.NET for Pretendard fonts - Most reliable */
@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-dynamic-subset.min.css");

/* Secondary: Google Fonts as backup */
@import url("https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap");

/* Font Display Strategy */
@supports (font-display: swap) {
  * {
    font-display: swap;
  }
}

/* System Font Fallback Strategy */
@font-face {
  font-family: "System Font Fallback";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src:
    local("Pretendard"), local("Pretendard Regular"), local("Apple SD Gothic Neo"),
    local("Malgun Gothic"), local("맑은 고딕"), local("Segoe UI"), local("system-ui"),
    local("sans-serif");
}

/* Korean-Optimized Font Stack */
:root {
  --font-korean-primary:
    "Pretendard Variable", "Pretendard", -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo",
    "Noto Sans KR", "Malgun Gothic", "맑은 고딕", "Segoe UI", Roboto, sans-serif;
  --font-korean-fallback:
    "Noto Sans KR", "Malgun Gothic", "맑은 고딕", "Apple SD Gothic Neo", sans-serif;
  --font-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-monospace: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, monospace;
}

/* Korean Typography Optimization */
html {
  font-family: var(--font-korean-primary), var(--font-korean-fallback), var(--font-system);
  font-variant-ligatures: none; /* Disable ligatures for Korean */
  text-rendering: optimizeSpeed; /* Optimize for Korean rendering */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Korean Text Optimization */
body,
.korean-text {
  word-break: keep-all; /* Prevent breaking Korean words */
  line-height: 1.7; /* Optimal line height for Korean */
  letter-spacing: -0.02em; /* Slight negative tracking for Korean */
}

/* Korean Font Size Optimization */
@media screen and (max-width: 768px) {
  body {
    font-size: 16px; /* Minimum readable size for Korean on mobile */
  }
}

/* Performance Optimization */
.font-loaded {
  font-family: var(--font-korean-primary);
}

.font-loading {
  font-family: var(--font-system); /* Fallback during loading */
  visibility: hidden;
}

.font-loaded .font-loading {
  visibility: visible;
}
