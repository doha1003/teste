<!DOCTYPE html>
<html lang="ko">
<head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ ìˆ˜ì •ì‚¬í•­ ê²€ì¦</title> <style> body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; line-height: 1.6; } .test-result { border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin: 10px 0; } .success { border-color: #28a745; background-color: #f8fff9; } .error { border-color: #dc3545; background-color: #fff8f8; } .warning { border-color: #ffc107; background-color: #fffdf8; } .status { font-weight: bold; margin-bottom: 10px; } button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; } button:hover { background: #0056b3; } #results { margin-top: 20px; } iframe { width: 100%; height: 600px; border: 1px solid #ddd; border-radius: 5px; margin: 10px 0; } </style>
</head>
<body> <h1>ğŸ”§ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ JavaScript ì˜¤ë¥˜ ìˆ˜ì • ê²€ì¦</h1> <p>ê° í…ŒìŠ¤íŠ¸ì˜ ì‹œì‘ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì˜¤ë¥˜ê°€ ìˆ˜ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p> <button onclick="testTetoEgen()">í…Œí† -ì—ê² í…ŒìŠ¤íŠ¸</button> <button onclick="testLoveDNA()">ëŸ¬ë¸Œ DNA í…ŒìŠ¤íŠ¸</button> <button onclick="testMBTI()">MBTI í…ŒìŠ¤íŠ¸</button> <button onclick="runAllTests()">ì „ì²´ í…ŒìŠ¤íŠ¸</button> <div id="results"></div> <script> const results = {}; function createResultDiv(testName, status, details) { const div = document.createElement('div'); div.className = `test-result ${status}`; div.innerHTML = ` <div class="status">${testName}: ${status === 'success' ? 'âœ… ì„±ê³µ' : status === 'error' ? 'âŒ ì‹¤íŒ¨' : 'âš ï¸ ê²½ê³ '}</div> <div>${details}</div> `; return div; } function testInIframe(testName, url) { return new Promise((resolve) => { const resultsDiv = document.getElementById('results'); // ê¸°ì¡´ iframe ì œê±° const existingIframe = document.querySelector('iframe'); if (existingIframe) existingIframe.remove(); // ìƒˆ iframe ìƒì„± const iframe = document.createElement('iframe'); iframe.src = url; iframe.onload = () => { console.log(`${testName} ë¡œë“œ ì™„ë£Œ`); setTimeout(() => { try { const iframeDoc = iframe.contentDocument || iframe.contentWindow.document; // ì½˜ì†” ë¡œê·¸ í™•ì¸ (ì œí•œì ) const startButton = iframeDoc.querySelector('.test-start-button'); const hasStartButton = !!startButton; // í…ŒìŠ¤íŠ¸ í™”ë©´ë“¤ í™•ì¸ const introScreen = iframeDoc.querySelector('#intro-screen'); const testScreen = iframeDoc.querySelector('#test-screen'); const resultScreen = iframeDoc.querySelector('#result-screen'); const hasRequiredElements = introScreen && testScreen; let status = 'success'; let details = ` ì‹œì‘ ë²„íŠ¼: ${hasStartButton ? 'âœ…' : 'âŒ'}<br> í•„ìˆ˜ ìš”ì†Œ: ${hasRequiredElements ? 'âœ…' : 'âŒ'}<br> ì¸íŠ¸ë¡œ í™”ë©´: ${introScreen ? 'âœ…' : 'âŒ'}<br> í…ŒìŠ¤íŠ¸ í™”ë©´: ${testScreen ? 'âœ…' : 'âŒ'}<br> ê²°ê³¼ í™”ë©´: ${resultScreen ? 'âœ…' : 'âŒ'} `; if (!hasStartButton || !hasRequiredElements) { status = 'error'; } results[testName] = { status, hasStartButton, hasRequiredElements }; const resultDiv = createResultDiv(testName, status, details); resultsDiv.appendChild(resultDiv); resolve({ testName, status, hasStartButton, hasRequiredElements }); } catch (error) { const errorDetails = `Cross-origin ì œí•œìœ¼ë¡œ ìƒì„¸ ê²€ì‚¬ ë¶ˆê°€: ${error.message}`; const resultDiv = createResultDiv(testName, 'warning', errorDetails); resultsDiv.appendChild(resultDiv); results[testName] = { status: 'warning', error: error.message }; resolve({ testName, status: 'warning', error: error.message }); } }, 3000); // 3ì´ˆ ëŒ€ê¸° }; iframe.onerror = (error) => { const errorDetails = `í˜ì´ì§€ ë¡œë“œ ì‹¤íŒ¨: ${error}`; const resultDiv = createResultDiv(testName, 'error', errorDetails); resultsDiv.appendChild(resultDiv); results[testName] = { status: 'error', error }; resolve({ testName, status: 'error', error }); }; resultsDiv.appendChild(iframe); }); } async function testTetoEgen() { return await testInIframe('í…Œí† -ì—ê² í…ŒìŠ¤íŠ¸', '/tests/teto-egen/test.html'); } async function testLoveDNA() { return await testInIframe('ëŸ¬ë¸Œ DNA í…ŒìŠ¤íŠ¸', '/tests/love-dna/test.html'); } async function testMBTI() { return await testInIframe('MBTI í…ŒìŠ¤íŠ¸', '/tests/mbti/test.html'); } async function runAllTests() { document.getElementById('results').innerHTML = '<h3>í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘...</h3>'; const tests = [ { name: 'í…Œí† -ì—ê² í…ŒìŠ¤íŠ¸', fn: testTetoEgen }, { name: 'ëŸ¬ë¸Œ DNA í…ŒìŠ¤íŠ¸', fn: testLoveDNA }, { name: 'MBTI í…ŒìŠ¤íŠ¸', fn: testMBTI } ]; let successCount = 0; for (const test of tests) { console.log(`${test.name} ì‹œì‘...`); const result = await test.fn(); if (result.status === 'success') successCount++; // ê° í…ŒìŠ¤íŠ¸ ê°„ 1ì´ˆ ëŒ€ê¸° await new Promise(resolve => setTimeout(resolve, 1000)); } // ìµœì¢… ìš”ì•½ const summaryDiv = document.createElement('div'); summaryDiv.className = 'test-result ' + (successCount === tests.length ? 'success' : 'warning'); summaryDiv.innerHTML = ` <div class="status">ğŸ“Š ì „ì²´ ê²°ê³¼: ${successCount}/${tests.length} ì„±ê³µ</div> <div>ì„±ê³µí•œ í…ŒìŠ¤íŠ¸: ${successCount}ê°œ<br>ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸: ${tests.length - successCount}ê°œ</div> `; document.getElementById('results').appendChild(summaryDiv); console.log('ì „ì²´ í…ŒìŠ¤íŠ¸ ê²°ê³¼:', results); } // í˜ì´ì§€ ë¡œë“œ ì‹œ ì•ˆë‚´ console.log('ğŸ”§ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ ìˆ˜ì •ì‚¬í•­ ê²€ì¦ ë„êµ¬'); console.log('ê° ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.'); </script>
</body>
</html>