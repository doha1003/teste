<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI 계산기 - 체질량지수 계산 | doha.kr</title>
    <meta name="description" content="키와 몸무게로 BMI(체질량지수)를 계산하고 비만도를 확인하세요. 정확한 건강 상태 분석과 체중 관리 가이드를 제공합니다.">
    
    <!-- External CSS -->
    <link rel="stylesheet" href="/css/styles-cleaned.css">
    <link rel="stylesheet" href="/css/pages/bmi-calculator.css">
    
    <!-- DOMPurify -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
</head>
<body>
    <!-- 네비게이션 -->
    <div id="navbar-placeholder"></div>
    
    <!-- 메인 컨텐츠 -->
    <main class="page-main">
        <div class="container">
            <header class="page-header">
                <h1 class="page-title">BMI 계산기</h1>
                <p class="page-subtitle">체질량지수를 계산하여 건강 상태를 확인하세요</p>
            </header>
            
            <!-- BMI 계산 폼 -->
            <div class="bmi-calculator-wrapper">
                <form id="bmiForm" class="bmi-form">
                    <div class="form-group">
                        <label for="height">키 (cm)</label>
                        <input type="number" id="height" name="height" class="form-control" 
                               placeholder="예: 170" min="100" max="250" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="weight">몸무게 (kg)</label>
                        <input type="number" id="weight" name="weight" class="form-control" 
                               placeholder="예: 65" min="20" max="300" step="0.1" required>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-calculate">
                        BMI 계산하기
                    </button>
                </form>
                
                <!-- 결과 표시 영역 -->
                <div id="result" class="bmi-result" style="display: none;">
                    <h2>계산 결과</h2>
                    <div class="result-value">
                        <span class="label">BMI 지수</span>
                        <span id="bmiValue" class="value">-</span>
                    </div>
                    <div class="result-status">
                        <span class="label">판정</span>
                        <span id="bmiStatus" class="status">-</span>
                    </div>
                    <div class="result-description" id="bmiDescription"></div>
                </div>
            </div>
            
            <!-- BMI 기준표 -->
            <div class="bmi-reference">
                <h3>BMI 기준표</h3>
                <table class="bmi-table">
                    <thead>
                        <tr>
                            <th>BMI 범위</th>
                            <th>체중 상태</th>
                            <th>건강 위험도</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="underweight">
                            <td>18.5 미만</td>
                            <td>저체중</td>
                            <td>영양실조 위험</td>
                        </tr>
                        <tr class="normal">
                            <td>18.5 ~ 22.9</td>
                            <td>정상</td>
                            <td>건강한 상태</td>
                        </tr>
                        <tr class="overweight">
                            <td>23 ~ 24.9</td>
                            <td>과체중</td>
                            <td>주의 필요</td>
                        </tr>
                        <tr class="obese1">
                            <td>25 ~ 29.9</td>
                            <td>비만 1단계</td>
                            <td>건강 위험 증가</td>
                        </tr>
                        <tr class="obese2">
                            <td>30 ~ 34.9</td>
                            <td>비만 2단계</td>
                            <td>높은 건강 위험</td>
                        </tr>
                        <tr class="obese3">
                            <td>35 이상</td>
                            <td>고도비만</td>
                            <td>매우 높은 위험</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>
    
    <!-- 푸터 -->
    <div id="footer-placeholder"></div>
    
    <!-- JavaScript -->
    <script src="/js/main.js"></script>
    <script src="/js/simple-loader.js"></script>
    <script>
        // BMI 계산 함수
        function calculateBMI(height, weight) {
            const heightInMeter = height / 100;
            return weight / (heightInMeter * heightInMeter);
        }
        
        // BMI 상태 판정
        function getBMIStatus(bmi) {
            if (bmi < 18.5) {
                return {
                    status: '저체중',
                    className: 'underweight',
                    description: '체중이 정상 범위보다 낮습니다. 균형 잡힌 식단과 적절한 운동으로 건강한 체중을 유지하세요.'
                };
            } else if (bmi < 23) {
                return {
                    status: '정상',
                    className: 'normal',
                    description: '건강한 체중 범위에 있습니다. 현재의 생활 습관을 유지하세요.'
                };
            } else if (bmi < 25) {
                return {
                    status: '과체중',
                    className: 'overweight',
                    description: '정상 범위를 약간 초과했습니다. 식단 조절과 규칙적인 운동을 권장합니다.'
                };
            } else if (bmi < 30) {
                return {
                    status: '비만 1단계',
                    className: 'obese1',
                    description: '건강에 주의가 필요합니다. 체중 감량을 위한 계획을 세우고 실천하세요.'
                };
            } else if (bmi < 35) {
                return {
                    status: '비만 2단계',
                    className: 'obese2',
                    description: '건강 위험이 높습니다. 전문가의 상담을 받아 체계적인 관리가 필요합니다.'
                };
            } else {
                return {
                    status: '고도비만',
                    className: 'obese3',
                    description: '매우 심각한 상태입니다. 즉시 의료 전문가의 도움을 받으세요.'
                };
            }
        }
        
        // 폼 제출 처리
        document.getElementById('bmiForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);
            
            if (!height || !weight || height <= 0 || weight <= 0) {
                alert('올바른 키와 몸무게를 입력해주세요.');
                return;
            }
            
            const bmi = calculateBMI(height, weight);
            const status = getBMIStatus(bmi);
            
            // 결과 표시
            document.getElementById('bmiValue').textContent = bmi.toFixed(1);
            document.getElementById('bmiStatus').textContent = status.status;
            document.getElementById('bmiStatus').className = 'status ' + status.className;
            document.getElementById('bmiDescription').textContent = status.description;
            
            // 결과 영역 표시
            document.getElementById('result').style.display = 'block';
            
            // 스크롤 이동
            document.getElementById('result').scrollIntoView({ behavior: 'smooth', block: 'center' });
        });
    </script>
</body>
</html>