const majorArcana=[{id:0,name:"ë°”ë³´",emoji:"ğŸ¤¡",meaning:{upright:"ìƒˆë¡œìš´ ì‹œì‘, ìˆœìˆ˜í•¨, ììœ ë¡œìš´ ì˜í˜¼",reversed:"ë¬´ëª¨í•¨, ìœ„í—˜, ì–´ë¦¬ì„ìŒ"}},{id:1,name:"ë§ˆë²•ì‚¬",emoji:"ğŸ§™",meaning:{upright:"ì˜ì§€ë ¥, ì°½ì¡°, ì¬ëŠ¥ ë°œí˜„",reversed:"ì¡°ì‘, ì¬ëŠ¥ ë‚­ë¹„, ê³„íš ë¶€ì¡±"}},{id:2,name:"ì—¬ì‚¬ì œ",emoji:"ğŸ”®",meaning:{upright:"ì§ê´€, ì‹ ë¹„, ë‚´ë©´ì˜ ì§€í˜œ",reversed:"ìˆ¨ê²¨ì§„ ê²ƒë“¤, í˜¼ë€, ë¶ˆì•ˆì •"}},{id:3,name:"ì—¬í™©ì œ",emoji:"ğŸ‘¸",meaning:{upright:"í’ìš”, ëª¨ì„±ì• , ì°½ì¡°ì„±",reversed:"ì˜ì¡´ì„±, ì§ˆì‹í•˜ëŠ” ì‚¬ë‘, ì°½ì¡°ì  ë§‰í˜"}},{id:4,name:"í™©ì œ",emoji:"ğŸ‘‘",meaning:{upright:"ê¶Œìœ„, êµ¬ì¡°, í†µì œ",reversed:"ë…ì¬, ê²½ì§ì„±, ê¶Œë ¥ ë‚¨ìš©"}},{id:5,name:"êµí™©",emoji:"â›ª",meaning:{upright:"ì „í†µ, êµìœ¡, ì‹ ë…",reversed:"ë…ë‹¨, ê·œì¹™ì— ëŒ€í•œ ë°˜í•­, ìƒˆë¡œìš´ ì ‘ê·¼"}},{id:6,name:"ì—°ì¸",emoji:"ğŸ’•",meaning:{upright:"ì‚¬ë‘, ì¡°í™”, ê°€ì¹˜ê´€ ì¼ì¹˜",reversed:"ë¶ˆê· í˜•, ë¶€ì¡°í™”, ê°€ì¹˜ê´€ ì¶©ëŒ"}},{id:7,name:"ì „ì°¨",emoji:"ğŸ‡",meaning:{upright:"ì˜ì§€ë ¥, ê²°ë‹¨ë ¥, ìŠ¹ë¦¬",reversed:"ìì œë ¥ ë¶€ì¡±, ë°©í–¥ì„± ìƒì‹¤, ê³µê²©ì„±"}},{id:8,name:"í˜",emoji:"ğŸ¦",meaning:{upright:"ë‚´ë©´ì˜ í˜, ìš©ê¸°, ì¸ë‚´",reversed:"ìê¸° ì˜ì‹¬, ì•½í•¨, ì—ë„ˆì§€ ë¶€ì¡±"}},{id:9,name:"ì€ë‘”ì",emoji:"ğŸ•¯ï¸",meaning:{upright:"ë‚´ë©´ íƒêµ¬, ì˜í˜¼ íƒìƒ‰, ì§€í˜œ",reversed:"ê³ ë¦½, ì™¸ë¡œì›€, ê¸¸ì„ ìƒìŒ"}},{id:10,name:"ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´",emoji:"â˜¸ï¸",meaning:{upright:"í–‰ìš´, ìš´ëª…, ì „í™˜ì ",reversed:"ë¶ˆìš´, í†µì œë ¥ ë¶€ì¡±, ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”"}},{id:11,name:"ì •ì˜",emoji:"âš–ï¸",meaning:{upright:"ê³µì •í•¨, ì§„ì‹¤, ì¸ê³¼ì‘ë³´",reversed:"ë¶ˆê³µì •, ë¶€ì •ì§, ì±…ì„ íšŒí”¼"}},{id:12,name:"ë§¤ë‹¬ë¦° ì‚¬ëŒ",emoji:"ğŸ™ƒ",meaning:{upright:"í¬ìƒ, ìƒˆë¡œìš´ ê´€ì , ê¸°ë‹¤ë¦¼",reversed:"ë¬´ì˜ë¯¸í•œ í¬ìƒ, ì •ì²´, ì €í•­"}},{id:13,name:"ì£½ìŒ",emoji:"ğŸ’€",meaning:{upright:"ë³€í™”, ëê³¼ ì‹œì‘, ë³€í™˜",reversed:"ë³€í™”ì— ëŒ€í•œ ì €í•­, ì •ì²´, ë‚´ì  ì •í™”"}},{id:14,name:"ì ˆì œ",emoji:"ğŸº",meaning:{upright:"ê· í˜•, ì¸ë‚´, ì¤‘ìš©",reversed:"ë¶ˆê· í˜•, ê³¼ì‰, ì¡°í™” ë¶€ì¡±"}},{id:15,name:"ì•…ë§ˆ",emoji:"ğŸ˜ˆ",meaning:{upright:"ì†ë°•, ë¬¼ì§ˆì£¼ì˜, ìœ í˜¹",reversed:"í•´ë°©, ì†ë°•ì—ì„œ ë²—ì–´ë‚¨, ììœ "}},{id:16,name:"íƒ‘",emoji:"ğŸ°",meaning:{upright:"ê¸‰ê²©í•œ ë³€í™”, ê²©ë³€, ê³„ì‹œ",reversed:"ì¬ë‚œ íšŒí”¼, ë³€í™” ì§€ì—°, ë‘ë ¤ì›€"}},{id:17,name:"ë³„",emoji:"â­",meaning:{upright:"í¬ë§, ì˜ê°, ê¸°íšŒ",reversed:"ì ˆë§, ì‹ ë… ë¶€ì¡±, ì¢Œì ˆ"}},{id:18,name:"ë‹¬",emoji:"ğŸŒ™",meaning:{upright:"í™˜ìƒ, ë‘ë ¤ì›€, ë¬´ì˜ì‹",reversed:"í˜¼ë€ í•´ì†Œ, ì–µì••ëœ ê°ì •, ì†ì„ìˆ˜"}},{id:19,name:"íƒœì–‘",emoji:"â˜€ï¸",meaning:{upright:"ì„±ê³µ, í™œë ¥, ê¸°ì¨",reversed:"ì¼ì‹œì  ì¢Œì ˆ, ê³¼ë„í•œ ë‚™ê´€, í™œë ¥ ë¶€ì¡±"}},{id:20,name:"ì‹¬íŒ",emoji:"ğŸº",meaning:{upright:"ë¶€í™œ, ë‚´ì  ë¶€ë¦„, ìš©ì„œ",reversed:"ìê¸° ì˜ì‹¬, ê³¼ê±°ì— ëŒ€í•œ ì§‘ì°©, ìš©ì„œ ëª»í•¨"}},{id:21,name:"ì„¸ê³„",emoji:"ğŸŒ",meaning:{upright:"ì™„ì„±, ì„±ì·¨, ì—¬í–‰",reversed:"ë¯¸ì™„ì„±, ëª©í‘œ ë¯¸ë‹¬ì„±, ì§€ì—°"}}],spreads={oneCard:{name:"ì› ì¹´ë“œ",count:1,positions:["í˜„ì¬ ìƒí™©"]},threeCard:{name:"ì“°ë¦¬ ì¹´ë“œ",count:3,positions:["ê³¼ê±°","í˜„ì¬","ë¯¸ë˜"]},celtic:{name:"ì¼ˆí‹± í¬ë¡œìŠ¤",count:10,positions:["í˜„ì¬ ìƒí™©","ë„ì „/ì‹­ìê°€","ë¨¼ ê³¼ê±°","ê°€ê¹Œìš´ ê³¼ê±°","ê°€ëŠ¥í•œ ë¯¸ë˜","ê°€ê¹Œìš´ ë¯¸ë˜","ìì‹ ","ì™¸ë¶€ ì˜í–¥","í¬ë§ê³¼ ë‘ë ¤ì›€","ìµœì¢… ê²°ê³¼"]}};function updateSpreadDescription(e){const n=spreads[e.target.value],i=document.getElementById("spreadDescription");if(n){let e=`<p>${n.name}ì€(ëŠ”) ${n.count}ì¥ì˜ ì¹´ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p><ul>`;n.positions.forEach((n,i)=>{e+=`<li>${i+1}ë²ˆì§¸ ì¹´ë“œ: ${n}</li>`}),e+="</ul>",i.innerHTML=e,i.style.display="block"}}async function handleTarotReading(e){e.preventDefault();const n=new FormData(e.target);n.get("question");showCardSelectionAnimation(n.get("spread"))}function showCardSelectionAnimation(e){const n=document.getElementById("tarotResult"),i=spreads[e];n.style.display="block",n.innerHTML=`\n        <div class="tarot-animation">\n            <h3>ì¹´ë“œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</h3>\n            <p>ë§ˆìŒì„ ê°€ë‹¤ë“¬ê³  ${i.count}ì¥ì˜ ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”.</p>\n            <div class="card-deck" id="cardDeck"></div>\n            <div class="selected-cards" id="selectedCards">\n                <h4>ì„ íƒëœ ì¹´ë“œ (0/${i.count})</h4>\n                <div class="selected-card-list"></div>\n            </div>\n            <button id="startReading" class="btn btn-primary" style="display: none;">ë¦¬ë”© ì‹œì‘</button>\n        </div>\n    `,createCardDeck(i.count),n.scrollIntoView({behavior:"smooth",block:"center"})}function createCardDeck(e){const n=document.getElementById("cardDeck"),i=[];for(let t=0;t<22;t++){const a=document.createElement("div");a.className="tarot-card card-back",a.innerHTML="ğŸ´",a.dataset.index=t,a.addEventListener("click",function(){if(i.length<e&&!this.classList.contains("selected")){this.classList.add("selected","flipping");const n=majorArcana[t],a=Math.random()>.5;if(i.push({...n,isReversed:a,position:i.length}),updateSelectedCards(i,e),setTimeout(()=>{this.innerHTML=`\n                        <div class="card-content ${a?"reversed":""}">\n                            <div class="card-emoji">${n.emoji}</div>\n                            <div class="card-name">${n.name}</div>\n                            ${a?'<div class="reversed-indicator">ì—­ë°©í–¥</div>':""}\n                        </div>\n                    `,this.classList.remove("card-back")},300),i.length===e){const e=document.getElementById("startReading");e.style.display="block",e.onclick=()=>performReading(i)}}}),n.appendChild(a)}}function updateSelectedCards(e,n){const i=document.querySelector(".selected-card-list");document.querySelector("#selectedCards h4").textContent=`ì„ íƒëœ ì¹´ë“œ (${e.length}/${n})`,i.innerHTML=e.map((e,n)=>`\n        <div class="mini-card ${e.isReversed?"reversed":""}">\n            <span class="mini-emoji">${e.emoji}</span>\n            <span class="mini-name">${e.name}</span>\n            ${e.isReversed?'<span class="mini-reversed">(R)</span>':""}\n        </div>\n    `).join("")}function performReading(e){const n=document.getElementById("tarotResult"),i=document.querySelector('input[name="spread"]:checked').value,t=spreads[i],a=document.getElementById("question").value;n.innerHTML='\n        <div class="loading">\n            <div class="loading-spinner"></div>\n            <p>AIê°€ ì¹´ë“œë¥¼ í•´ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>\n        </div>\n    ',setTimeout(()=>{displayTarotResult(generateTarotInterpretation(e,t,a),e,t)},2e3)}function generateTarotInterpretation(e,n,i){const t=[];e.forEach((e,a)=>{const r=n.positions[a],d=e.isReversed?e.meaning.reversed:e.meaning.upright;let s="";switch(r){case"í˜„ì¬ ìƒí™©":s=`í˜„ì¬ ë‹¹ì‹ ì˜ ìƒí™©ì€ ${e.name} ì¹´ë“œê°€ ë‚˜íƒ€ë‚´ë“¯ì´ ${d}ì˜ ì—ë„ˆì§€ê°€ ê°•í•˜ê²Œ ì‘ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¹ì‹ ì´ ì§€ê¸ˆ ${generateContextualMeaning(e,i)}ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.`;break;case"ê³¼ê±°":s=`ê³¼ê±°ì— ${e.name} ì¹´ë“œê°€ ë³´ì—¬ì£¼ëŠ” ${d}ì˜ ê²½í—˜ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” í˜„ì¬ ìƒí™©ì˜ ê·¼ì›ì´ ë˜ê³  ìˆìŠµë‹ˆë‹¤.`;break;case"í˜„ì¬":s=`í˜„ì¬ ${e.name} ì¹´ë“œëŠ” ${d}ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì§€ê¸ˆ ì´ ìˆœê°„ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ${generateAdvice(e)}ì…ë‹ˆë‹¤.`;break;case"ë¯¸ë˜":s=`ë¯¸ë˜ì—ëŠ” ${e.name} ì¹´ë“œê°€ ì˜ˆì‹œí•˜ëŠ” ${d}ì˜ ìƒí™©ì´ í¼ì³ì§ˆ ê²ƒì…ë‹ˆë‹¤. ${generateFutureGuidance(e)}`;break;default:s=`${r}ì—ì„œ ${e.name} ì¹´ë“œëŠ” ${d}ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.`}t.push({position:r,card:e,interpretation:s})});const a=generateOverallMessage(e,i);return{interpretations:t,overall:a,advice:generateFinalAdvice(e)}}function generateContextualMeaning(e,n){return{0:"ìƒˆë¡œìš´ ì—¬ì •ì„ ì‹œì‘í•´ì•¼ í•  ë•Œ",1:"ìì‹ ì˜ ëŠ¥ë ¥ì„ ë°œíœ˜í•´ì•¼ í•  ë•Œ",2:"ë‚´ë©´ì˜ ëª©ì†Œë¦¬ì— ê·€ ê¸°ìš¸ì—¬ì•¼ í•  ë•Œ",3:"ì°½ì¡°ì ì¸ ì—ë„ˆì§€ê°€ í’ë¶€í•œ ë•Œ",4:"ì§ˆì„œì™€ êµ¬ì¡°ê°€ í•„ìš”í•œ ë•Œ",5:"ì „í†µì ì¸ ì§€í˜œë¥¼ êµ¬í•´ì•¼ í•  ë•Œ",6:"ì¤‘ìš”í•œ ì„ íƒì„ í•´ì•¼ í•  ë•Œ",7:"ì˜ì§€ë ¥ìœ¼ë¡œ ì „ì§„í•´ì•¼ í•  ë•Œ",8:"ë‚´ë©´ì˜ í˜ì„ ë°œê²¬í•´ì•¼ í•  ë•Œ",9:"í˜¼ìë§Œì˜ ì‹œê°„ì´ í•„ìš”í•œ ë•Œ",10:"í° ë³€í™”ê°€ ì¼ì–´ë‚˜ëŠ” ë•Œ",11:"ê³µì •í•œ íŒë‹¨ì´ í•„ìš”í•œ ë•Œ",12:"ë‹¤ë¥¸ ê´€ì ì´ í•„ìš”í•œ ë•Œ",13:"ë³€í™”ë¥¼ ë°›ì•„ë“¤ì—¬ì•¼ í•  ë•Œ",14:"ê· í˜•ì„ ì°¾ì•„ì•¼ í•  ë•Œ",15:"ì†ë°•ì—ì„œ ë²—ì–´ë‚˜ì•¼ í•  ë•Œ",16:"ê¸‰ê²©í•œ ë³€í™”ë¥¼ ê²ªëŠ” ë•Œ",17:"í¬ë§ì„ í’ˆì–´ì•¼ í•  ë•Œ",18:"ì§ê´€ì„ ë”°ë¼ì•¼ í•  ë•Œ",19:"ì„±ê³µê³¼ ê¸°ì¨ì˜ ë•Œ",20:"ìƒˆë¡œìš´ ì‹œì‘ì„ ì¤€ë¹„í•˜ëŠ” ë•Œ",21:"ì™„ì„±ê³¼ ì„±ì·¨ì˜ ë•Œ"}[e.id]||"ì¤‘ìš”í•œ ì „í™˜ì ì— ìˆëŠ” ë•Œ"}function generateAdvice(e){return{0:"ë‘ë ¤ì›€ ì—†ì´ ìƒˆë¡œìš´ ì‹œì‘ì„ ë°›ì•„ë“¤ì´ëŠ” ê²ƒ",1:"ìì‹ ì˜ ì¬ëŠ¥ê³¼ ëŠ¥ë ¥ì„ ë¯¿ê³  í–‰ë™í•˜ëŠ” ê²ƒ",2:"ì§ê´€ì„ ë”°ë¥´ê³  ë‚´ë©´ì˜ ì§€í˜œë¥¼ ì‹ ë¢°í•˜ëŠ” ê²ƒ",3:"ì°½ì¡°ì ì¸ ì—ë„ˆì§€ë¥¼ ë°œì‚°í•˜ê³  í’ìš”ë¥¼ ë°›ì•„ë“¤ì´ëŠ” ê²ƒ",4:"ì§ˆì„œì™€ êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ ì•ˆì •ì„ ì¶”êµ¬í•˜ëŠ” ê²ƒ",5:"ì „í†µì ì¸ ê°€ì¹˜ì™€ ìƒˆë¡œìš´ ì‹œê°ì˜ ê· í˜•ì„ ì°¾ëŠ” ê²ƒ",6:"ë§ˆìŒì˜ ì†Œë¦¬ë¥¼ ë”°ë¼ ì§„ì •í•œ ì„ íƒì„ í•˜ëŠ” ê²ƒ",7:"ëª©í‘œë¥¼ í–¥í•´ ë‹¨í˜¸í•˜ê²Œ ì „ì§„í•˜ëŠ” ê²ƒ",8:"ë¶€ë“œëŸ¬ìš´ í˜ìœ¼ë¡œ ìƒí™©ì„ ë‹¤ìŠ¤ë¦¬ëŠ” ê²ƒ",9:"ì ì‹œ ë©ˆì¶”ê³  ë‚´ë©´ì„ ëŒì•„ë³´ëŠ” ê²ƒ",10:"ë³€í™”ì˜ íë¦„ì„ ë°›ì•„ë“¤ì´ê³  ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•˜ëŠ” ê²ƒ",11:"ê³µì •í•˜ê³  ê· í˜•ì¡íŒ ì‹œê°ì„ ìœ ì§€í•˜ëŠ” ê²ƒ",12:"ìƒˆë¡œìš´ ê´€ì ì—ì„œ ìƒí™©ì„ ë°”ë¼ë³´ëŠ” ê²ƒ",13:"ëì€ ìƒˆë¡œìš´ ì‹œì‘ì„ì„ ë°›ì•„ë“¤ì´ëŠ” ê²ƒ",14:"ê·¹ë‹¨ì„ í”¼í•˜ê³  ì¤‘ìš©ì„ ì¶”êµ¬í•˜ëŠ” ê²ƒ",15:"ìì‹ ì„ ì†ë°•í•˜ëŠ” ê²ƒë“¤ì„ ì¸ì‹í•˜ê³  ë²—ì–´ë‚˜ëŠ” ê²ƒ",16:"ë³€í™”ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ì•Šê³  ë°›ì•„ë“¤ì´ëŠ” ê²ƒ",17:"í¬ë§ì„ ìƒì§€ ì•Šê³  ê¸ì •ì ì¸ ë¯¸ë˜ë¥¼ ê·¸ë¦¬ëŠ” ê²ƒ",18:"ë¶ˆí™•ì‹¤í•¨ ì†ì—ì„œë„ ì§ê´€ì„ ì‹ ë¢°í•˜ëŠ” ê²ƒ",19:"ì„±ê³µì˜ ê¸°ì¨ì„ ë§Œë½í•˜ê³  ê°ì‚¬í•˜ëŠ” ê²ƒ",20:"ê³¼ê±°ë¥¼ ì •ë¦¬í•˜ê³  ìƒˆë¡œìš´ ë‹¨ê³„ë¡œ ë‚˜ì•„ê°€ëŠ” ê²ƒ",21:"ì„±ì·¨ë¥¼ ì¶•í•˜í•˜ê³  ë‹¤ìŒ ì—¬ì •ì„ ì¤€ë¹„í•˜ëŠ” ê²ƒ"}[e.id]||"í˜„ì¬ ìƒí™©ì„ ë°›ì•„ë“¤ì´ê³  ìµœì„ ì„ ë‹¤í•˜ëŠ” ê²ƒ"}function generateFutureGuidance(e){return e.isReversed?"í•˜ì§€ë§Œ ì´ëŠ” ë„ì „ì´ ë  ìˆ˜ë„ ìˆìœ¼ë‹ˆ, ì‹ ì¤‘í•˜ê²Œ ì¤€ë¹„í•˜ê³  ëŒ€ì²˜í•´ì•¼ í•©ë‹ˆë‹¤.":"ì´ëŠ” ê¸ì •ì ì¸ ë°œì „ì„ ì˜ë¯¸í•˜ë©°, ì—´ë¦° ë§ˆìŒìœ¼ë¡œ ë°›ì•„ë“¤ì¼ ì¤€ë¹„ë¥¼ í•˜ì„¸ìš”."}function generateOverallMessage(e,n){const i=[];e.forEach(e=>{e.id<=7?i.push("ì‹œì‘ê³¼ ì„±ì¥"):e.id<=14?i.push("ë„ì „ê³¼ ë³€í™”"):i.push("ì™„ì„±ê³¼ ê¹¨ë‹¬ìŒ")});return`ì´ë²ˆ ë¦¬ë”©ì—ì„œ ë‚˜íƒ€ë‚œ ì£¼ìš” í…Œë§ˆëŠ” "${[...new Set(i)].join(", ")}"ì…ë‹ˆë‹¤. \n    ë‹¹ì‹ ì˜ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì€ ì´ë¯¸ ë‹¹ì‹  ì•ˆì— ìˆìœ¼ë©°, ì¹´ë“œë“¤ì€ ê·¸ ê¸¸ì„ ë³´ì—¬ì£¼ê³  ìˆìŠµë‹ˆë‹¤. \n    íŠ¹íˆ ${e[0].name} ì¹´ë“œê°€ í•µì‹¬ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ê³  ìˆìœ¼ë‹ˆ, ì´ ì¹´ë“œì˜ ì˜ë¯¸ë¥¼ ê¹Šì´ ì„±ì°°í•´ë³´ì„¸ìš”.`}function generateFinalAdvice(e){const n=e.filter(e=>e.isReversed).length;return n>e.length-n?"í˜„ì¬ ë§ì€ ë„ì „ê³¼ ì¥ì• ë¬¼ì´ ìˆì§€ë§Œ, ì´ëŠ” ì„±ì¥ì˜ ê¸°íšŒì…ë‹ˆë‹¤. ë‚´ë©´ì˜ í˜ì„ ë¯¿ê³  í•œ ê±¸ìŒì”© ë‚˜ì•„ê°€ì„¸ìš”.":0===n?"ê¸ì •ì ì¸ ì—ë„ˆì§€ê°€ ê°•í•˜ê²Œ ì‘ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ìì‹ ê°ì„ ê°€ì§€ê³  ì›í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ë‚˜ì•„ê°€ì„¸ìš”.":"ê· í˜•ì¡íŒ ìƒí™©ì…ë‹ˆë‹¤. ê¸ì •ì ì¸ ë©´ì„ ê°•í™”í•˜ë©´ì„œ ë„ì „ì ì¸ ë¶€ë¶„ì„ ì§€í˜œë¡­ê²Œ ê·¹ë³µí•´ë‚˜ê°€ì„¸ìš”."}function displayTarotResult(e,n,i){const t=document.getElementById("tarotResult");let a=`\n        <div class="tarot-result-wrapper">\n            <h3>ğŸ”® íƒ€ë¡œ ë¦¬ë”© ê²°ê³¼</h3>\n            \n            <div class="spread-layout ${i.name.replace(/\s+/g,"-").toLowerCase()}">\n                ${e.interpretations.map((e,n)=>`\n                    <div class="reading-card">\n                        <div class="card-position">${e.position}</div>\n                        <div class="card-visual ${e.card.isReversed?"reversed":""}">\n                            <div class="card-emoji">${e.card.emoji}</div>\n                            <div class="card-name">${e.card.name}</div>\n                            ${e.card.isReversed?'<div class="reversed-badge">ì—­ë°©í–¥</div>':""}\n                        </div>\n                        <div class="card-interpretation">\n                            <p>${e.interpretation}</p>\n                        </div>\n                    </div>\n                `).join("")}\n            </div>\n            \n            <div class="overall-interpretation">\n                <h4>ğŸ“œ ì¢…í•© í•´ì„</h4>\n                <p>${e.overall}</p>\n            </div>\n            \n            <div class="final-advice">\n                <h4>ğŸ’¡ ì¡°ì–¸</h4>\n                <p>${e.advice}</p>\n            </div>\n            \n            <div class="reading-actions">\n                <button onclick="shareReading()" class="btn btn-share">ê³µìœ í•˜ê¸°</button>\n                <button onclick="newReading()" class="btn btn-primary">ìƒˆë¡œìš´ ë¦¬ë”©</button>\n            </div>\n        </div>\n    `;t.innerHTML=a}function shareReading(){navigator.share?navigator.share({title:"AI íƒ€ë¡œ ë¦¬ë”© ê²°ê³¼",text:"ë‚˜ì˜ íƒ€ë¡œ ë¦¬ë”© ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!",url:window.location.href}):navigator.clipboard.writeText(window.location.href).then(()=>{alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!")})}function newReading(){document.getElementById("tarotForm").reset(),document.getElementById("tarotResult").style.display="none",document.getElementById("spreadDescription").style.display="none",window.scrollTo({top:0,behavior:"smooth"})}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("tarotForm");e&&e.addEventListener("submit",handleTarotReading);document.querySelectorAll('input[name="spread"]').forEach(e=>{e.addEventListener("change",updateSpreadDescription)})});