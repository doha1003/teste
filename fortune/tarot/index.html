<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />
    <title>AI íƒ€ë¡œ ë¦¬ë”© - ë¬´ë£Œ ì˜¨ë¼ì¸ íƒ€ë¡œ ì¹´ë“œ | doha.kr</title>
    <!-- í°íŠ¸ í”„ë¦¬ë¡œë“œ -->

    <meta
      name="description"
      content="AIê°€ í•´ì„í•˜ëŠ” ì •í™•í•œ íƒ€ë¡œ ë¦¬ë”©. ì‚¬ë‘, ì§ì—…, ë¯¸ë˜ì— ëŒ€í•œ ì§ˆë¬¸ì— íƒ€ë¡œ ì¹´ë“œê°€ ë‹µí•´ë“œë¦½ë‹ˆë‹¤."
    />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="doha.kr" />

    <!-- Security Headers -->
    <meta
      http-equiv="Content-Security-Policy"
      content="upgrade-insecure-requests; default-src 'self' https:; script-src 'unsafe-inline' 'self' https://pagead2.googlesyndication.com https://www.googletagmanager.com https://developers.kakao.com https://t1.kakaocdn.net https://cdn.jsdelivr.net; style-src 'unsafe-inline' 'self' https://fonts.googleapis.com https://cdn.jsdelivr.net; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net data:; img-src 'self' data: https:; connect-src 'self' https: https://doha-kr-ap.vercel.app; frame-src 'self' https://www.google.com https://fundingchoicesmessages.google.com https://googleads.g.doubleclick.net https://ep2.adtrafficquality.google https://tpc.googlesyndication.com;"
    />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />

    <!-- Open Graph -->
    <meta property="og:title" content="AI íƒ€ë¡œ ë¦¬ë”© - ë¬´ë£Œ ì˜¨ë¼ì¸ íƒ€ë¡œ | doha.kr" />
    <meta property="og:description" content="AIê°€ í•´ì„í•˜ëŠ” ì •í™•í•œ íƒ€ë¡œ ë¦¬ë”©" />
    <meta property="og:image" content="https://doha.kr/images/tarot-og.jpg" />
    <meta property="og:url" content="https://doha.kr/fortune/tarot/" />
    <meta property="og:type" content="website" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://doha.kr/fortune/tarot/" />

    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="https://pagead2.googlesyndication.com" />
    <link rel="dns-prefetch" href="https://developers.kakao.com" />

    <!-- Pretendard Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Main CSS -->
    <!-- CSS Bundle - Automatically selects development or production version -->
    <link rel="stylesheet" href="../../dist/styles.min.css" id="main-styles" />

    <!-- Page Data Attributes -->
    <script>
      document.documentElement.dataset.page = 'fortune-tarot';
    </script>
  </head>
  <body class="fortune-page" data-page="fortune-tarot">
    <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
    <div id="navbar-placeholder"></div>

    <!-- í˜ì´ì§€ í—¤ë” -->
    <section class="page-header">
      <div class="container">
        <h1 class="page-title fade-in">ğŸƒ AI íƒ€ë¡œ ë¦¬ë”©</h1>
        <p class="page-subtitle fade-in stagger-1">
          ê³ ë¯¼ì´ë‚˜ ê¶ê¸ˆí•œ ì ì„ ë¬¼ì–´ë³´ì„¸ìš”. AIê°€ íƒ€ë¡œ ì¹´ë“œë¡œ ë‹µì„ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤.
        </p>
      </div>
    </section>

    <!-- íƒ€ë¡œ ë¦¬ë”© ì…ë ¥ í¼ -->
    <section class="fortune-section" aria-labelledby="tarot-form-title">
      <div class="container">
        <div class="fortune-form-container" id="tarotForm">
          <h2 id="tarot-form-title">íƒ€ë¡œ ì¹´ë“œì—ê²Œ ì§ˆë¬¸í•˜ê³  ì‹¶ì€ ê²ƒì„ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
          <form data-form="tarot-reading" aria-label="íƒ€ë¡œ ë¦¬ë”© ì§ˆë¬¸ ì…ë ¥ í¼">
            <div class="form-group">
              <label for="userName" class="form-label">
                ì´ë¦„
                <span aria-label="í•„ìˆ˜">*</span>
              </label>
              <input
                type="text"
                id="userName"
                name="userName"
                class="form-control"
                placeholder="í™ê¸¸ë™"
                required
                aria-required="true"
                aria-describedby="userName-desc"
              />
              <span id="userName-desc" class="visually-hidden">íƒ€ë¡œ ë¦¬ë”©ì— í‘œì‹œë  ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</span>
            </div>

            <div class="form-group">
              <label for="question" class="form-label">
                ì§ˆë¬¸
                <span aria-label="í•„ìˆ˜">*</span>
              </label>
              <textarea
                id="question"
                name="question"
                class="form-control"
                rows="4"
                placeholder="ì˜ˆ: ìƒˆë¡œìš´ ì§ì¥ìœ¼ë¡œì˜ ì´ì§ì´ ì¢‹ì„ê¹Œìš”?"
                required
                aria-required="true"
                aria-describedby="question-desc"
              ></textarea>
              <span id="question-desc" class="form-text">êµ¬ì²´ì ì´ê³  ëª…í™•í•œ ì§ˆë¬¸ì„ í• ìˆ˜ë¡ ë” ì •í™•í•œ ë‹µì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
            </div>

            <div class="form-group">
              <fieldset>
                <legend class="form-label">ìŠ¤í”„ë ˆë“œ ì„ íƒ</legend>
                <div class="radio-group" role="radiogroup" aria-describedby="spread-desc">
                  <label class="form-check">
                    <input type="radio" name="spread" value="oneCard" class="form-check-input" checked aria-describedby="onecard-desc" />
                    <span class="form-check-label">ì› ì¹´ë“œ (ê°„ë‹¨í•œ ë‹µë³€)</span>
                  </label>
                  <label class="form-check">
                    <input type="radio" name="spread" value="threeCard" class="form-check-input" aria-describedby="threecard-desc" />
                    <span class="form-check-label">ì“°ë¦¬ ì¹´ë“œ (ê³¼ê±°-í˜„ì¬-ë¯¸ë˜)</span>
                  </label>
                  <label class="form-check">
                    <input type="radio" name="spread" value="celtic" class="form-check-input" aria-describedby="celtic-desc" />
                    <span class="form-check-label">ì¼ˆí‹± í¬ë¡œìŠ¤ (ìƒì„¸ ë¶„ì„)</span>
                  </label>
                </div>
                <div id="spread-desc" class="form-text">ìŠ¤í”„ë ˆë“œì— ë”°ë¼ ì¹´ë“œ ìˆ˜ì™€ í•´ì„ ë°©ì‹ì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤.</div>
              </fieldset>
            </div>

            <div id="spreadDescription" class="spread-description d-none-init" role="region" aria-live="polite"></div>

            <button type="submit" class="btn btn-primary btn-lg" aria-label="ì…ë ¥í•œ ì§ˆë¬¸ìœ¼ë¡œ íƒ€ë¡œ ì¹´ë“œ ë¦¬ë”© ì‹œì‘í•˜ê¸°">
              ğŸ´ íƒ€ë¡œ ì¹´ë“œ ë½‘ê¸°
            </button>
          </form>
        </div>

        <!-- íƒ€ë¡œ ê²°ê³¼ -->
        <div id="tarotResult" class="d-none-init" role="region" aria-label="íƒ€ë¡œ ë¦¬ë”© ê²°ê³¼" aria-live="polite">
          <!-- ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
        </div>
      </div>
    </section>

    <!-- ê´‘ê³  ì˜ì—­ -->
    <aside class="ad-container" aria-label="ê´‘ê³  ì˜ì—­">
      <div class="ad-label">ê´‘ê³ </div>
      <div id="ad-container-tarot" class="ad-container-min" data-ad-slot="2789891628">
        <div class="ad-placeholder ad-container-styled">ê´‘ê³  ë¡œë”© ì¤‘...</div>
      </div>
    </aside>

    <!-- í‘¸í„° -->
    <footer class="footer" role="contentinfo" aria-label="ì‚¬ì´íŠ¸ ì •ë³´">
      <div class="footer-content">
        <div class="footer-section">
          <h3>doha.kr</h3>
          <p class="text-gray-400 mt-8">
            ì¼ìƒì„ ë” ì¬ë¯¸ìˆê²Œ ë§Œë“œëŠ” ê³µê°„
            <br />
            ì‹¬ë¦¬í…ŒìŠ¤íŠ¸, ìš´ì„¸, ì‹¤ìš©ë„êµ¬ì˜ ë§Œë‚¨
          </p>
          <div class="footer-social">
            <a href="mailto:youtubdoha@gmail.com" class="social-link">ğŸ“§</a>
          </div>
        </div>

        <div class="footer-section">
          <h3>ì„œë¹„ìŠ¤</h3>
          <ul class="footer-links">
            <li><a href="../../">í™ˆ</a></li>
            <li><a href="../../tests/">ì‹¬ë¦¬í…ŒìŠ¤íŠ¸</a></li>
            <li><a href="../../fortune/">ìš´ì„¸</a></li>
            <li><a href="../../tools/">ì‹¤ìš©ë„êµ¬</a></li>
            <li><a href="../../about/">ì‚¬ì´íŠ¸ ì†Œê°œ</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>ì¸ê¸° ì½˜í…ì¸ </h3>
          <ul class="footer-links">
            <li><a href="../../tests/teto-egen/">í…Œí† -ì—ê² í…ŒìŠ¤íŠ¸</a></li>
            <li><a href="../../tests/mbti/">MBTI í…ŒìŠ¤íŠ¸</a></li>
            <li><a href="../../fortune/daily/">ì˜¤ëŠ˜ì˜ ìš´ì„¸</a></li>
            <li><a href="../../tools/text-counter.html">ê¸€ììˆ˜ ì„¸ê¸°</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>ìš´ì„¸ ì„œë¹„ìŠ¤</h3>
          <ul class="footer-links">
            <li><a href="../../fortune/daily/">ì˜¤ëŠ˜ì˜ ìš´ì„¸</a></li>
            <li><a href="../../fortune/zodiac/">ë³„ìë¦¬ ìš´ì„¸</a></li>
            <li><a href="../../fortune/zodiac-animal/">ë ë³„ ìš´ì„¸</a></li>
            <li><a href="../../fortune/tarot/">AI íƒ€ë¡œ</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>ê³ ê°ì§€ì›</h3>
          <ul class="footer-links">
            <li><a href="../../contact/">ë¬¸ì˜í•˜ê¸°</a></li>
            <li><a href="../../faq/">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <div class="footer-legal">
          <a href="../../privacy/">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
          <a href="../../terms/">ì´ìš©ì•½ê´€</a>
        </div>
        <p>&copy; 2025 doha.kr. All rights reserved.</p>
      </div>
    </footer>

    <!-- Core JavaScript -->
    <script type="module" src="../../js/app.js"></script>
    <script type="module" src="../../js/core/service-base.js"></script>

    <!-- Feature JavaScript -->
    <script type="module" src="../../js/api-config.js"></script>
    <script type="module" src="../../js/features/fortune/fortune-service.js"></script>
    <script type="module" src="../../js/features/fortune/tarot-fortune.js"></script>

    <!-- External SDKs (ì§€ì—° ë¡œë”©) -->
    <script async src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.4/kakao.min.js"></script>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7905640648499222"
      crossorigin="anonymous"
    ></script>
    <script
      async
      src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"
      integrity="sha512-H+rglffZ6f5gF7UJgvH4Naa+fGCgjrHKMgoFOGmcPTRwR6oILo5R+gtzNrpDp7iMV3udbymBVjkeZGNz1Em4rQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- Tarot Fortune Initialization -->
    <script type="module">
      // íƒ€ë¡œ ë¦¬ë”© ì„œë¹„ìŠ¤ ì´ˆê¸°í™”
      import { TarotFortuneService } from '../../js/features/fortune/tarot-fortune.js';
      
      let tarotFortuneService;
      
      document.addEventListener('DOMContentLoaded', async () => {
        try {
          console.log('ğŸƒ íƒ€ë¡œ ë¦¬ë”© ì´ˆê¸°í™” ì‹œì‘');
          
          // TarotFortuneService ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
          tarotFortuneService = new TarotFortuneService();
          console.log('âœ… íƒ€ë¡œ ë¦¬ë”© ì„œë¹„ìŠ¤ ìƒì„±ë¨');
          
          // í¼ ì œì¶œ ì´ë²¤íŠ¸ ì—°ê²°
          const form = document.querySelector('form[data-form="tarot-reading"]');
          if (form) {
            form.addEventListener('submit', handleTarotSubmit);
            console.log('âœ… í¼ ì´ë²¤íŠ¸ ì—°ê²°ë¨');
          }
          
          // ìŠ¤í”„ë ˆë“œ ì„ íƒ ì´ë²¤íŠ¸ ì—°ê²°
          const spreadInputs = document.querySelectorAll('input[name="spread"]');
          spreadInputs.forEach(input => {
            input.addEventListener('change', updateSpreadDescription);
          });
          
          // ì´ˆê¸° ìŠ¤í”„ë ˆë“œ ì„¤ëª… í‘œì‹œ
          updateSpreadDescription();
          
        } catch (error) {
          console.error('âŒ íƒ€ë¡œ ë¦¬ë”© ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
        }
      });
      
      function updateSpreadDescription() {
        const selectedSpread = document.querySelector('input[name="spread"]:checked')?.value;
        const descriptionElement = document.getElementById('spreadDescription');
        
        if (!descriptionElement) return;
        
        const descriptions = {
          oneCard: {
            title: 'ì› ì¹´ë“œ ìŠ¤í”„ë ˆë“œ',
            description: 'í•˜ë‚˜ì˜ ì¹´ë“œë¡œ ì§ˆë¬¸ì— ëŒ€í•œ ì§ì ‘ì ì´ê³  ëª…í™•í•œ ë‹µì„ ì œê³µí•©ë‹ˆë‹¤. ê°„ë‹¨í•œ Yes/No ì§ˆë¬¸ì´ë‚˜ í˜„ì¬ ìƒí™©ì— ëŒ€í•œ ì¡°ì–¸ì„ êµ¬í•  ë•Œ ì í•©í•©ë‹ˆë‹¤.'
          },
          threeCard: {
            title: 'ì“°ë¦¬ ì¹´ë“œ ìŠ¤í”„ë ˆë“œ',
            description: 'ê³¼ê±°, í˜„ì¬, ë¯¸ë˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì„¸ ì¥ì˜ ì¹´ë“œë¡œ ìƒí™©ì˜ ì „ì²´ì ì¸ íë¦„ì„ íŒŒì•…í•©ë‹ˆë‹¤. ë¬¸ì œì˜ ì›ì¸ê³¼ í•´ê²° ë°©í–¥ì„ ì¢…í•©ì ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
          },
          celtic: {
            title: 'ì¼ˆí‹± í¬ë¡œìŠ¤ ìŠ¤í”„ë ˆë“œ',
            description: '10ì¥ì˜ ì¹´ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê°€ì¥ ìƒì„¸í•œ ìŠ¤í”„ë ˆë“œì…ë‹ˆë‹¤. í˜„ì¬ ìƒí™©, ë„ì „ ê³¼ì œ, ê³¼ê±° ì˜í–¥, ê°€ëŠ¥í•œ ë¯¸ë˜, ë‚´ë©´ì˜ ê°ì •, ì™¸ë¶€ í™˜ê²½ ë“±ì„ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤.'
          }
        };
        
        if (selectedSpread && descriptions[selectedSpread]) {
          const { title, description } = descriptions[selectedSpread];
          descriptionElement.innerHTML = `
            <h4>${title}</h4>
            <p>${description}</p>
          `;
          descriptionElement.classList.remove('d-none-init');
        }
      }
      
      async function handleTarotSubmit(event) {
        event.preventDefault();
        
        try {
          console.log('ğŸƒ íƒ€ë¡œ ë¦¬ë”© ì‹œì‘');
          
          // í¼ ë°ì´í„° ìˆ˜ì§‘
          const formData = new FormData(event.target);
          const userData = {
            name: formData.get('userName'),
            question: formData.get('question'),
            spread: formData.get('spread') || 'oneCard'
          };
          
          // ì…ë ¥ ê²€ì¦
          if (!userData.name || !userData.question) {
            alert('ì´ë¦„ê³¼ ì§ˆë¬¸ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
          }
          
          if (userData.question.length < 5) {
            alert('ë” êµ¬ì²´ì ì¸ ì§ˆë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
          }
          
          console.log('ğŸ“‹ íƒ€ë¡œ ë¦¬ë”© ë°ì´í„°:', userData);
          
          // íƒ€ë¡œ ë¦¬ë”© ì‹¤í–‰
          await tarotFortuneService.generateFortune(userData);
          
        } catch (error) {
          console.error('âŒ íƒ€ë¡œ ë¦¬ë”© ì‹¤íŒ¨:', error);
          alert('íƒ€ë¡œ ë¦¬ë”© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
        }
      }
      
      // ì „ì—­ ì ‘ê·¼ì„ ìœ„í•œ ì„¤ì •
      window.tarotFortuneService = tarotFortuneService;
    </script>

    <!-- Core JavaScript Modules -->
    <script type="module" src="../../js/app.js"></script>
    <script type="module" src="../../js/features/fortune/tarot-fortune.js"></script>
    
    <!-- Tarot Fortune Initialization -->
    <script type="module">
      import { TarotFortuneService } from '../../js/features/fortune/tarot-fortune.js';
      
      // Initialize service when DOM is ready
      document.addEventListener('DOMContentLoaded', function() {
        console.log('ğŸ”® Tarot Fortune Service ì´ˆê¸°í™” ì‹œì‘');
        window.tarotFortuneService = new TarotFortuneService();
        console.log('âœ… Tarot Fortune Service ì¤€ë¹„ë¨');
      });
    </script>

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "AI íƒ€ë¡œ ë¦¬ë”©",
        "url": "https://doha.kr/fortune/tarot/",
        "applicationCategory": "Entertainment",
        "operatingSystem": "All",
        "description": "AIê°€ í•´ì„í•˜ëŠ” ì •í™•í•œ íƒ€ë¡œ ì¹´ë“œ ë¦¬ë”© ì„œë¹„ìŠ¤",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "KRW"
        }
      }
    </script>
  </body>
</html>
