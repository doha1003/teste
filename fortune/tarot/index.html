<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI íƒ€ë¡œ ë¦¬ë”© - AI ìš´ì„¸ | doha.kr</title>
    <meta name="description" content="ì§ˆë¬¸ì„ ì…ë ¥í•˜ë©´ AIê°€ íƒ€ë¡œ ì¹´ë“œë¥¼ ë½‘ì•„ ì‹¬ì¸µì ì¸ í•´ì„ì„ ì œê³µí•©ë‹ˆë‹¤.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="AI íƒ€ë¡œ ë¦¬ë”© | doha.kr">
    <meta property="og:description" content="ì§ˆë¬¸ì„ ì…ë ¥í•˜ë©´ AIê°€ íƒ€ë¡œ ì¹´ë“œë¥¼ ë½‘ì•„ ì‹¬ì¸µì ì¸ í•´ì„ì„ ì œê³µí•©ë‹ˆë‹¤.">
    <meta property="og:image" content="https://doha.kr/images/og-default.png">
    <meta property="og:url" content="https://doha.kr/fortune/tarot/">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- External CSS -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/components/navbar.css">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7905640648499222" crossorigin="anonymous"></script>
</head>
<body class="fortune-page">
    <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <div id="navbar-placeholder"></div>
    
    <!-- í˜ì´ì§€ í—¤ë” -->
    <section class="page-header">
        <div class="container">
            <h1 class="page-title fade-in">AI íƒ€ë¡œ ë¦¬ë”©</h1>
            <p class="page-subtitle fade-in stagger-1">
                AIê°€ í•´ì„í•˜ëŠ” ì‹ ë¹„ë¡œìš´ íƒ€ë¡œ ì¹´ë“œì˜ ë©”ì‹œì§€
            </p>
        </div>
    </section>
    
    <!-- íƒ€ë¡œ ë¦¬ë”© ì„¹ì…˜ -->
    <section class="tarot-section">
        <div class="container">
            <div id="tarotForm" class="tarot-form">
                <h2 style="text-align: center; margin-bottom: 32px;">íƒ€ë¡œ ë¦¬ë”© ì‹œì‘í•˜ê¸°</h2>
                
                <div class="form-group">
                    <label for="question">ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”</label>
                    <textarea 
                        id="question" 
                        name="question" 
                        class="form-control" 
                        rows="4" 
                        required 
                        placeholder="íƒ€ë¡œì—ê²Œ ë¬»ê³  ì‹¶ì€ ì§ˆë¬¸ì„ êµ¬ì²´ì ìœ¼ë¡œ ì ì–´ì£¼ì„¸ìš”. ì˜ˆ: í˜„ì¬ ì—°ì•  ê´€ê³„ê°€ ì–´ë–»ê²Œ ë°œì „í• ê¹Œìš”?"
                    ></textarea>
                </div>
                
                <button type="button" onclick="startTarotReading()" class="btn btn-primary" style="width: 100%; margin-top: 24px;">
                    ğŸ”® íƒ€ë¡œ ë¦¬ë”© ì‹œì‘
                </button>
            </div>
            
            <!-- íƒ€ë¡œ ê²°ê³¼ ì˜ì—­ -->
            <div id="tarotResult" class="tarot-result" style="display: none;">
                <!-- ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </section>
    
    <!-- íƒ€ë¡œ ì•ˆë‚´ ì„¹ì…˜ -->
    <section class="info-section">
        <div class="container">
            <div class="info-box">
                <h3>AI íƒ€ë¡œ ë¦¬ë”© ì•ˆë‚´</h3>
                <ul>
                    <li>íƒ€ë¡œ ì¹´ë“œëŠ” í˜„ì¬ ìƒí™©ì— ëŒ€í•œ í†µì°°ê³¼ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.</li>
                    <li>ì§ˆë¬¸ì€ êµ¬ì²´ì ì¼ìˆ˜ë¡ ë” ëª…í™•í•œ ë‹µë³€ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                    <li>ì¹´ë“œì˜ í•´ì„ì€ ì°¸ê³ ìš©ì´ë©°, ìµœì¢… ê²°ì •ì€ ë³¸ì¸ì´ ë‚´ë¦¬ì…”ì•¼ í•©ë‹ˆë‹¤.</li>
                    <li>ë©”ì´ì € ì•„ë¥´ì¹´ë‚˜ 22ì¥ì„ ì‚¬ìš©í•˜ì—¬ ë¦¬ë”©ì„ ì§„í–‰í•©ë‹ˆë‹¤.</li>
                </ul>
            </div>
        </div>
    </section>
    
    <!-- ê´‘ê³  ì˜ì—­ -->
    <div class="ad-container">
        <div class="ad-label">ê´‘ê³ </div>
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-7905640648499222"
             data-ad-slot="1234567890"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
    </div>
    
    <!-- í‘¸í„° -->
    <div id="footer-placeholder"></div>
    
    <!-- External JavaScript -->
    <script src="/js/main.js"></script>
    
    <script>
        // ë©”ì´ì € ì•„ë¥´ì¹´ë‚˜ 22ì¥ ì¹´ë“œ ë°ì´í„°
        const majorArcana = [
            { id: 0, name: "The Fool", korean: "ë°”ë³´", meaning: "ìƒˆë¡œìš´ ì‹œì‘, ìˆœìˆ˜í•¨, ëª¨í—˜", reversed: "ë¬´ëª¨í•¨, ê²½ì†”í•¨, ë°©í–¥ê°ê° ìƒì‹¤" },
            { id: 1, name: "The Magician", korean: "ë§ˆë²•ì‚¬", meaning: "ì˜ì§€ë ¥, ì°½ì¡°ë ¥, ëŠ¥ë ¥", reversed: "ì†ì„ìˆ˜, ëŠ¥ë ¥ ë¶€ì¡±, ìë§Œì‹¬" },
            { id: 2, name: "The High Priestess", korean: "ì—¬êµí™©", meaning: "ì§ê´€, ì‹ ë¹„, ë‚´ë©´ì˜ ì§€í˜œ", reversed: "ë¹„ë°€, ë¬´ì§€, í‘œë©´ì  ì§€ì‹" },
            { id: 3, name: "The Empress", korean: "ì—¬í™©ì œ", meaning: "í’ìš”, ì°½ì¡°, ëª¨ì„±", reversed: "ì˜ì¡´, ê³¼ë³´í˜¸, ì°½ì¡°ë ¥ ë¶€ì¡±" },
            { id: 4, name: "The Emperor", korean: "í™©ì œ", meaning: "ê¶Œìœ„, ì•ˆì •, ì§€ë°°", reversed: "ë…ë‹¨, ê²½ì§, í­ì •" },
            { id: 5, name: "The Hierophant", korean: "êµí™©", meaning: "ì „í†µ, ì¢…êµ, êµìœ¡", reversed: "ë…ë‹¨, í˜•ì‹ì£¼ì˜, ë°˜í•­" },
            { id: 6, name: "The Lovers", korean: "ì—°ì¸", meaning: "ì‚¬ë‘, ì„ íƒ, ê²°í•©", reversed: "ë¶„ë¦¬, ê°ˆë“±, ì˜ëª»ëœ ì„ íƒ" },
            { id: 7, name: "The Chariot", korean: "ì „ì°¨", meaning: "ì˜ì§€, ìŠ¹ë¦¬, í†µì œ", reversed: "íŒ¨ë°°, ë°©í–¥ê°ê° ìƒì‹¤, í†µì œ ë¶ˆëŠ¥" },
            { id: 8, name: "Strength", korean: "í˜", meaning: "ìš©ê¸°, ì¸ë‚´, ë‚´ì  í˜", reversed: "ì•½í•¨, ì˜ì‹¬, ìì œë ¥ ë¶€ì¡±" },
            { id: 9, name: "The Hermit", korean: "ì€ë‘”ì", meaning: "ì„±ì°°, ë‚´ì  ì¸ë„, ì§€í˜œ", reversed: "ê³ ë¦½, ì™¸ë¡œì›€, ê±°ë¶€" },
            { id: 10, name: "Wheel of Fortune", korean: "ìš´ëª…ì˜ ë°”í€´", meaning: "ë³€í™”, ìš´ëª…, ê¸°íšŒ", reversed: "ë¶ˆìš´, í†µì œ ë¶ˆëŠ¥, ì•…ìˆœí™˜" },
            { id: 11, name: "Justice", korean: "ì •ì˜", meaning: "ê³µì •, ê· í˜•, ì§„ì‹¤", reversed: "ë¶ˆê³µì •, í¸ê²¬, ê±°ì§“" },
            { id: 12, name: "The Hanged Man", korean: "ë§¤ë‹¬ë¦° ì‚¬ëŒ", meaning: "í¬ìƒ, ìƒˆë¡œìš´ ê´€ì , ê¸°ë‹¤ë¦¼", reversed: "í—›ëœ í¬ìƒ, ì§€ì—°, ì´ê¸°ì‹¬" },
            { id: 13, name: "Death", korean: "ì£½ìŒ", meaning: "ë³€í™”, ì¬ìƒ, ëê³¼ ì‹œì‘", reversed: "ì •ì²´, ë³€í™”ì— ëŒ€í•œ ì €í•­" },
            { id: 14, name: "Temperance", korean: "ì ˆì œ", meaning: "ì¡°í™”, ê· í˜•, ì ˆì œ", reversed: "ë¶ˆê· í˜•, ê³¼ë„í•¨, ë¶ˆí™”" },
            { id: 15, name: "The Devil", korean: "ì•…ë§ˆ", meaning: "ìœ í˜¹, ì†ë°•, ë¬¼ì§ˆì£¼ì˜", reversed: "í•´ë°©, ê¹¨ë‹¬ìŒ, ììœ " },
            { id: 16, name: "The Tower", korean: "íƒ‘", meaning: "íŒŒê´´, ê°‘ì‘ìŠ¤ëŸ° ë³€í™”, ê¹¨ë‹¬ìŒ", reversed: "í”¼í•  ìˆ˜ ìˆëŠ” ì¬ì•™, ë‚´ì  ë³€í™”" },
            { id: 17, name: "The Star", korean: "ë³„", meaning: "í¬ë§, ì˜ê°, ì¹˜ìœ ", reversed: "ì ˆë§, í™˜ë©¸, ì˜ê° ë¶€ì¡±" },
            { id: 18, name: "The Moon", korean: "ë‹¬", meaning: "í™˜ìƒ, ë¶ˆì•ˆ, ë¬´ì˜ì‹", reversed: "í˜¼ë€ í•´ì†Œ, ì§„ì‹¤ ë°œê²¬" },
            { id: 19, name: "The Sun", korean: "íƒœì–‘", meaning: "ê¸°ì¨, ì„±ê³µ, í™œë ¥", reversed: "ê³¼ì‹ , ì˜¤ë§Œ, ì—ë„ˆì§€ ë¶€ì¡±" },
            { id: 20, name: "Judgement", korean: "ì‹¬íŒ", meaning: "ë¶€í™œ, ê¹¨ë‹¬ìŒ, ìš©ì„œ", reversed: "í›„íšŒ, ìê¸° ë¹„íŒ, ìš©ì„œ ë¶€ì¡±" },
            { id: 21, name: "The World", korean: "ì„¸ê³„", meaning: "ì™„ì„±, ì„±ì·¨, í†µí•©", reversed: "ë¯¸ì™„ì„±, ì¢Œì ˆ, ë¶€ì¡±í•¨" }
        ];
        
        function startTarotReading() {
            const question = document.getElementById('question').value.trim();
            if (!question) {
                alert('ì§ˆë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // í¼ ìˆ¨ê¸°ê¸°
            document.getElementById('tarotForm').style.display = 'none';
            
            // ë¡œë”© í‘œì‹œ
            const resultDiv = document.getElementById('tarotResult');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `
                <div class="loading" style="text-align: center; padding: 40px;">
                    <div class="loading-spinner"></div>
                    <p style="margin-top: 20px;">íƒ€ë¡œ ì¹´ë“œë¥¼ ì„ê³  ìˆìŠµë‹ˆë‹¤...</p>
                </div>
            `;
            
            // ì¹´ë“œ ë½‘ê¸°
            setTimeout(async () => {
                const card = drawCard(question);
                await displayTarotResult(question, card);
            }, 2000);
        }
        
        function drawCard(question) {
            // ì§ˆë¬¸ì„ ê¸°ë°˜ìœ¼ë¡œ ì‹œë“œ ìƒì„±
            const seed = generateSeed(question);
            const cardIndex = Math.floor(seededRandom(seed) * majorArcana.length);
            const isReversed = seededRandom(seed * 2) < 0.3; // 30% í™•ë¥ ë¡œ ì—­ë°©í–¥
            
            return {
                ...majorArcana[cardIndex],
                reversed: isReversed
            };
        }
        
        function generateSeed(text) {
            let hash = 0;
            for (let i = 0; i < text.length; i++) {
                const char = text.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // 32ë¹„íŠ¸ ì •ìˆ˜ë¡œ ë³€í™˜
            }
            return Math.abs(hash);
        }
        
        function seededRandom(seed) {
            const x = Math.sin(seed) * 10000;
            return x - Math.floor(x);
        }
        
        async function displayTarotResult(question, card) {
            const resultDiv = document.getElementById('tarotResult');
            
            // AI í•´ì„ ìƒì„±
            const interpretation = await generateInterpretation(card, question);
            
            resultDiv.innerHTML = `
                <div class="tarot-result-container">
                    <h2 style="text-align: center; margin-bottom: 30px;">ğŸ”® íƒ€ë¡œ ë¦¬ë”© ê²°ê³¼</h2>
                    
                    <div class="question-display">
                        <h3>ğŸ“ ì§ˆë¬¸</h3>
                        <p>"${question}"</p>
                    </div>
                    
                    <div class="card-display">
                        <div class="card-container ${card.reversed ? 'reversed' : ''}">
                            <div class="card-image">
                                <div class="card-number">${card.id}</div>
                                <div class="card-symbol">ğŸƒ</div>
                                <div class="card-name">${card.korean}</div>
                                <div class="card-english">${card.name}</div>
                            </div>
                            ${card.reversed ? '<div class="reversed-label">ì—­ë°©í–¥</div>' : ''}
                        </div>
                    </div>
                    
                    <div class="interpretation">
                        <h3>ğŸ” ì¹´ë“œ í•´ì„</h3>
                        <div class="card-meaning">
                            <h4>ê¸°ë³¸ ì˜ë¯¸</h4>
                            <p>${card.reversed ? card.reversed : card.meaning}</p>
                        </div>
                        
                        <div class="personal-message">
                            <h4>ê°œì¸ ë©”ì‹œì§€</h4>
                            <p>${interpretation}</p>
                        </div>
                    </div>
                    
                    <div class="advice">
                        <h3>ğŸ’¡ ì¡°ì–¸</h3>
                        <p>${await generateAdvice(card, question)}</p>
                    </div>
                    
                    <div style="text-align: center; margin-top: 40px;">
                        <button onclick="location.reload()" class="btn btn-secondary">
                            ë‹¤ì‹œ ì ë³´ê¸°
                        </button>
                    </div>
                </div>
            `;
        }
        
        async function generateInterpretation(card, question) {
            try {
                const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=AIzaSyBKwOVTm6w9yf4BqPY01e1L3UYB_t5Pjr4', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `ë‹¹ì‹ ì€ ì „ë¬¸ íƒ€ë¡œ ë¦¬ë”ì…ë‹ˆë‹¤. ë‹¤ìŒ ì§ˆë¬¸ì— ëŒ€í•´ ë½‘íŒ íƒ€ë¡œ ì¹´ë“œë¥¼ í•´ì„í•´ì£¼ì„¸ìš”.

ì§ˆë¬¸: "${question}"
ë½‘íŒ ì¹´ë“œ: ${card.korean} (${card.name}) ${card.reversed ? '- ì—­ë°©í–¥' : '- ì •ë°©í–¥'}
ì¹´ë“œ ê¸°ë³¸ ì˜ë¯¸: ${card.reversed ? card.reversed : card.meaning}

ì§ˆë¬¸ìì˜ êµ¬ì²´ì ì¸ ìƒí™©ì— ë§ì¶° ì´ ì¹´ë“œê°€ ì–´ë–¤ ì˜ë¯¸ì¸ì§€ 3-4ë¬¸ì¥ìœ¼ë¡œ í•´ì„í•´ì£¼ì„¸ìš”. 
- ì§ˆë¬¸ê³¼ ì¹´ë“œì˜ ì—°ê´€ì„±ì„ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•˜ì„¸ìš”
- í˜„ì¬ ìƒí™©ì— ëŒ€í•œ í†µì°°ì„ ì œê³µí•˜ì„¸ìš”  
- ì•ìœ¼ë¡œì˜ ë°©í–¥ì„±ì„ ì œì‹œí•˜ì„¸ìš”
- ì‹ ë¹„ë¡­ê³  ì˜ê°ì„ ì£¼ëŠ” í†¤ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”`
                            }]
                        }]
                    })
                });

                const data = await response.json();
                
                if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                    return data.candidates[0].content.parts[0].text;
                } else {
                    throw new Error('AI ì‘ë‹µ í˜•ì‹ ì˜¤ë¥˜');
                }
            } catch (error) {
                console.error('AI í•´ì„ ìƒì„± ì˜¤ë¥˜:', error);
                // ì—ëŸ¬ ì‹œ ê¸°ë³¸ í•´ì„ ì œê³µ
                const interpretations = {
                    0: `"${question}"ì— ëŒ€í•œ ë‹µìœ¼ë¡œ ë°”ë³´ ì¹´ë“œê°€ ë‚˜ì™”ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì‹œì‘ì„ ì•ë‘ê³  ìˆìœ¼ë©°, ìˆœìˆ˜í•œ ë§ˆìŒìœ¼ë¡œ ìš©ê¸°ë¥¼ ë‚´ì–´ ì²« ë°œì„ ë‚´ë”›ì–´ì•¼ í•  ë•Œì…ë‹ˆë‹¤.`,
                    1: `"${question}"ì— ëŒ€í•´ ë§ˆë²•ì‚¬ ì¹´ë“œê°€ ì‘ë‹µí•©ë‹ˆë‹¤. ë‹¹ì‹ ì—ê²ŒëŠ” ì›í•˜ëŠ” ê²ƒì„ ì´ë£° ìˆ˜ ìˆëŠ” ëª¨ë“  ëŠ¥ë ¥ê³¼ ë„êµ¬ê°€ ê°–ì¶°ì ¸ ìˆìŠµë‹ˆë‹¤. ìì‹ ê°ì„ ê°€ì§€ê³  í–‰ë™í•˜ì„¸ìš”.`,
                    2: `"${question}"ì— ëŒ€í•œ ì—¬êµí™©ì˜ ë©”ì‹œì§€ì…ë‹ˆë‹¤. ë‹µì€ ì´ë¯¸ ë‹¹ì‹ ì˜ ë‚´ë©´ì— ìˆìŠµë‹ˆë‹¤. ì§ê°ì„ ë¯¿ê³  ë‚´ë©´ì˜ ëª©ì†Œë¦¬ì— ê·€ ê¸°ìš¸ì´ì„¸ìš”.`,
                    21: `"${question}"ì— ëŒ€í•´ ì„¸ê³„ ì¹´ë“œê°€ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤. ì™„ì„±ê³¼ ì„±ì·¨ì˜ ì‹œê¸°ê°€ ë‹¤ê°€ì˜¤ê³  ìˆìœ¼ë©°, ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•´ ëê¹Œì§€ ìµœì„ ì„ ë‹¤í•˜ë©´ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì„ ê²ƒì…ë‹ˆë‹¤.`
                };
                
                return interpretations[card.id] || `"${question}"ì— ëŒ€í•œ ${card.korean} ì¹´ë“œì˜ ë©”ì‹œì§€ì…ë‹ˆë‹¤. ì´ ì¹´ë“œëŠ” ë‹¹ì‹ ì˜ í˜„ì¬ ìƒí™©ì— íŠ¹ë³„í•œ ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.`;
            }
        }
        
        async function generateAdvice(card, question) {
            try {
                const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=AIzaSyBKwOVTm6w9yf4BqPY01e1L3UYB_t5Pjr4', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `ë‹¹ì‹ ì€ ì „ë¬¸ íƒ€ë¡œ ë¦¬ë”ì…ë‹ˆë‹¤. ë‹¤ìŒ ì§ˆë¬¸ê³¼ ì¹´ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¤ìš©ì ì¸ ì¡°ì–¸ì„ í•´ì£¼ì„¸ìš”.

ì§ˆë¬¸: "${question}"
ë½‘íŒ ì¹´ë“œ: ${card.korean} (${card.name}) ${card.reversed ? '- ì—­ë°©í–¥' : '- ì •ë°©í–¥'}

ì§ˆë¬¸ìê°€ ì‹¤ì œë¡œ í–‰ë™í•  ìˆ˜ ìˆëŠ” êµ¬ì²´ì ì¸ ì¡°ì–¸ì„ 2-3ë¬¸ì¥ìœ¼ë¡œ ì œì‹œí•´ì£¼ì„¸ìš”.
- ì§ˆë¬¸ ìƒí™©ì— ë§ëŠ” ì‹¤ì²œ ë°©ë²•ì„ ì œì‹œí•˜ì„¸ìš”
- ì¹´ë“œì˜ ì—ë„ˆì§€ë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œë ¤ì£¼ì„¸ìš”  
- í˜„ì‹¤ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ì¡°ì–¸ì„ í•´ì£¼ì„¸ìš”
- ë”°ëœ»í•˜ê³  ê²©ë ¤í•˜ëŠ” í†¤ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”`
                            }]
                        }]
                    })
                });

                const data = await response.json();
                
                if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                    return data.candidates[0].content.parts[0].text;
                } else {
                    throw new Error('AI ì‘ë‹µ í˜•ì‹ ì˜¤ë¥˜');
                }
            } catch (error) {
                console.error('AI ì¡°ì–¸ ìƒì„± ì˜¤ë¥˜:', error);
                // ì—ëŸ¬ ì‹œ ê¸°ë³¸ ì¡°ì–¸ ì œê³µ  
                const advices = {
                    0: `"${question}"ê³¼ ê´€ë ¨í•˜ì—¬ ë‘ë ¤ì›€ì„ ë²„ë¦¬ê³  ìƒˆë¡œìš´ ë„ì „ì„ ì‹œì‘í•˜ì„¸ìš”. ë°”ë³´ ì¹´ë“œëŠ” ìˆœìˆ˜í•œ ë§ˆìŒìœ¼ë¡œ ì²« ë°œì„ ë‚´ë”›ì„ ë•Œì„ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.`,
                    1: `"${question}"ì— ëŒ€í•œ ë‹µì€ ì´ë¯¸ ë‹¹ì‹  ì•ˆì— ìˆìŠµë‹ˆë‹¤. ë§ˆë²•ì‚¬ ì¹´ë“œê°€ ë§í•˜ë“¯, ìì‹ ì˜ ëŠ¥ë ¥ì„ ë¯¿ê³  ê³„íšì„ ì‹¤í–‰ì— ì˜®ê¸°ì„¸ìš”.`,
                    21: `"${question}"ê³¼ ê´€ë ¨í•˜ì—¬ ì™„ì„±ì˜ ì‹œê¸°ê°€ ë‹¤ê°€ì™”ìŠµë‹ˆë‹¤. ì„¸ê³„ ì¹´ë“œê°€ ë³´ì—¬ì£¼ë“¯ ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•´ ë§ˆì§€ë§‰ê¹Œì§€ ìµœì„ ì„ ë‹¤í•˜ì„¸ìš”.`
                };
                
                return advices[card.id] || `"${question}"ì— ëŒ€í•œ ${card.korean} ì¹´ë“œì˜ ì¡°ì–¸ì„ ë§ˆìŒì— ìƒˆê¸°ê³  ì‹¤ì²œí•´ë³´ì„¸ìš”.`;
            }
        }
    </script>
    
    <style>
        .fortune-page .page-header {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.05) 0%, rgba(236, 72, 153, 0.05) 100%);
            padding: 80px 0 60px;
            text-align: center;
        }
        
        .fortune-page .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--gray-900);
        }
        
        .fortune-page .page-subtitle {
            font-size: 1.125rem;
            color: var(--gray-600);
        }
        
        .tarot-section {
            padding: 60px 0;
            background: white;
        }
        
        .tarot-form {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--gray-700);
        }
        
        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--gray-200);
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            resize: vertical;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-500);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }
        
        .tarot-result-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .question-display {
            background: var(--gray-50);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
        }
        
        .question-display h3 {
            margin-bottom: 10px;
            color: var(--gray-800);
        }
        
        .card-display {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .card-container {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            border-radius: 16px;
            color: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: scale(1);
            transition: transform 0.3s ease;
        }
        
        .card-container:hover {
            transform: scale(1.05);
        }
        
        .card-container.reversed {
            transform: rotate(180deg);
        }
        
        .card-image {
            text-align: center;
        }
        
        .card-number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .card-symbol {
            font-size: 4rem;
            margin-bottom: 15px;
        }
        
        .card-name {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .card-english {
            font-size: 1rem;
            opacity: 0.8;
        }
        
        .reversed-label {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-top: 10px;
        }
        
        .interpretation, .advice {
            margin-bottom: 30px;
        }
        
        .interpretation h3, .advice h3 {
            color: var(--gray-800);
            margin-bottom: 20px;
        }
        
        .card-meaning, .personal-message {
            background: var(--gray-50);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
        }
        
        .card-meaning h4, .personal-message h4 {
            color: var(--gray-700);
            margin-bottom: 10px;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid var(--gray-200);
            border-top: 3px solid var(--primary-500);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .info-section {
            padding: 60px 0;
            background: var(--gray-50);
        }
        
        .info-box {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
        }
        
        .info-box h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--gray-900);
        }
        
        .info-box ul {
            list-style: none;
            padding: 0;
        }
        
        .info-box li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
            font-size: 1rem;
            line-height: 1.6;
            color: var(--gray-700);
        }
        
        .info-box li::before {
            content: 'ğŸƒ';
            position: absolute;
            left: 0;
            top: 8px;
        }
        
        .btn {
            display: inline-block;
            padding: 14px 32px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            text-decoration: none;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #9333ea 0%, #ec4899 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(147, 51, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(147, 51, 234, 0.4);
            color: white;
        }
        
        .btn-secondary {
            background: var(--gray-200);
            color: var(--gray-700);
        }
        
        .btn-secondary:hover {
            background: var(--gray-300);
            color: var(--gray-800);
        }
        
        @media (max-width: 768px) {
            .fortune-page .page-header {
                padding: 60px 0 40px;
            }
            
            .fortune-page .page-title {
                font-size: 2rem;
            }
            
            .tarot-form, .tarot-result-container {
                padding: 30px 20px;
                margin: 0 20px;
            }
            
            .card-container {
                padding: 20px;
            }
            
            .card-number {
                font-size: 1.5rem;
            }
            
            .card-symbol {
                font-size: 3rem;
            }
            
            .card-name {
                font-size: 1.2rem;
            }
            
            .info-box {
                padding: 30px 20px;
                margin: 0 20px;
            }
        }
    </style>
    
    <!-- AdSense initialization -->
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</body>
</html>