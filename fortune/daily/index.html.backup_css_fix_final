<!DOCTYPE html>

<html lang="ko">
<head>
<meta content="upgrade-insecure-requests; default-src 'self' https:; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://pagead2.googlesyndication.com https://www.googletagmanager.com https://developers.kakao.com https://t1.kakaocdn.net https://ep2.adtrafficquality.google https://fundingchoicesmessages.google.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https:; frame-src 'self' https://www.google.com https://fundingchoicesmessages.google.com https://googleads.g.doubleclick.net https://ep2.adtrafficquality.google https://tpc.googlesyndication.com;" http-equiv="Content-Security-Policy"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ì˜¤ëŠ˜ì˜ ìš´ì„¸ - ì‚¬ì£¼ ê¸°ë°˜ ì •í™•í•œ ì¼ì¼ìš´ì„¸ | doha.kr</title>
<meta content="ì •í™•í•œ ë§Œì„¸ë ¥ ì‚¬ì£¼íŒ”ìë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¶„ì„í•˜ëŠ” ì˜¤ëŠ˜ì˜ ìš´ì„¸. ìƒë…„ì›”ì¼ì‹œë¥¼ ì…ë ¥í•˜ì—¬ ìƒì„¸í•œ ì¼ì¼ ìš´ì„¸ë¥¼ í™•ì¸í•˜ì„¸ìš”." name="description"/>
<meta content="index, follow" name="robots"/>
<meta content="doha.kr" name="author"/>
<!-- Security Headers -->
<meta content="nosniff" http-equiv="X-Content-Type-Options"/>
<meta content="strict-origin-when-cross-origin" http-equiv="Referrer-Policy"/>
<meta content="camera=(), microphone=(), geolocation=(), payment=(), usb=(), magnetometer=(), accelerometer=(), gyroscope=()" http-equiv="Permissions-Policy"/>
<!-- Open Graph -->
<meta content="ì˜¤ëŠ˜ì˜ ìš´ì„¸ - ì‚¬ì£¼ ê¸°ë°˜ ì¼ì¼ìš´ì„¸ | doha.kr" property="og:title"/>
<meta content="ë§Œì„¸ë ¥ ê¸°ë°˜ ì •í™•í•œ ì‚¬ì£¼íŒ”ìë¡œ ë³´ëŠ” ì˜¤ëŠ˜ì˜ ìš´ì„¸" property="og:description"/>
<meta content="https://doha.kr/images/egen-male-card.jpg" property="og:image"/>
<meta content="https://doha.kr/fortune/daily/" property="og:url"/>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="True" href="https://fonts.gstatic.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
<!-- Google AdSense -->
<!-- Moved to end of body -->
<!-- ë§Œì„¸ë ¥ ë°ì´í„° ë¨¼ì € ë¡œë“œ -->
<script src="/js/manseryeok-database.js"></script>
<script src="/js/lunar-calendar-compact.js?v=1753150228"></script>
<script src="/js/saju-calculator.js"></script>
<!-- Optimized CSS System -->
<link href="/css/styles.css?v=1753150228" rel="stylesheet"/>
<link href="/css/pages/fortune-common.css" rel="stylesheet"/>
<link href="/css/layout-fixes.css" rel="stylesheet"/>

<script id="performance-monitor">

    window.addEventListener('load', function() {
        if (window.performance && window.performance.timing) {
            const loadTime = window.performance.timing.loadEventEnd - window.performance.timing.navigationStart;
            if (loadTime > 5000) {
                console.warn('Page loading is slow:', loadTime + 'ms');
            }
        }
    });
    </script>
</head>
<body>
<body class="fortune-page">
<!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
<div id="navbar-placeholder"></div>
<!-- í˜ì´ì§€ í—¤ë” -->
<section class="page-header">
<div class="container">
<h1 class="page-title fade-in">âœ¨ ì˜¤ëŠ˜ì˜ ìš´ì„¸</h1>
<p class="page-subtitle fade-in stagger-1">
                ì‚¬ì£¼íŒ”ì ê¸°ë°˜ ì •í™•í•œ ì¼ì¼ ìš´ì„¸ ë¶„ì„
            </p>
</div>
</section>
<!-- ìš´ì„¸ ì…ë ¥ í¼ -->
<section class="fortune-section">
<div class="container">
<div class="fortune-form-container" id="fortuneForm">
<h2>ë‹¹ì‹ ì˜ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
<form onsubmit="generateDailyFortune(event)">
<div class="form-group">
<label for="userName">ì´ë¦„</label>
<input class="form-control" id="userName" name="userName" placeholder="í™ê¸¸ë™" required="" type="text"/>
</div>
<div class="form-row">
<div class="form-group">
<label for="birthYear">ìƒë…„</label>
<select class="form-control" id="birthYear" name="birthYear" required="">
<option value="">ì—°ë„ ì„ íƒ</option>
</select>
</div>
<div class="form-group">
<label for="birthMonth">ìƒì›”</label>
<select class="form-control" id="birthMonth" name="birthMonth" required="">
<option value="">ì›” ì„ íƒ</option>
<option value="1">1ì›”</option>
<option value="2">2ì›”</option>
<option value="3">3ì›”</option>
<option value="4">4ì›”</option>
<option value="5">5ì›”</option>
<option value="6">6ì›”</option>
<option value="7">7ì›”</option>
<option value="8">8ì›”</option>
<option value="9">9ì›”</option>
<option value="10">10ì›”</option>
<option value="11">11ì›”</option>
<option value="12">12ì›”</option>
</select>
</div>
<div class="form-group">
<label for="birthDay">ìƒì¼</label>
<select class="form-control" id="birthDay" name="birthDay" required="">
<option value="">ì¼ ì„ íƒ</option>
</select>
</div>
</div>
<div class="form-group">
<label for="birthTime">ì¶œìƒì‹œê°„</label>
<select class="form-control" id="birthTime" name="birthTime">
<option value="-1">ëª¨ë¦„</option>
<option value="0">ìì‹œ (23:00-01:00)</option>
<option value="2">ì¶•ì‹œ (01:00-03:00)</option>
<option value="4">ì¸ì‹œ (03:00-05:00)</option>
<option value="6">ë¬˜ì‹œ (05:00-07:00)</option>
<option value="8">ì§„ì‹œ (07:00-09:00)</option>
<option value="10">ì‚¬ì‹œ (09:00-11:00)</option>
<option value="12">ì˜¤ì‹œ (11:00-13:00)</option>
<option value="14">ë¯¸ì‹œ (13:00-15:00)</option>
<option value="16">ì‹ ì‹œ (15:00-17:00)</option>
<option value="18">ìœ ì‹œ (17:00-19:00)</option>
<option value="20">ìˆ ì‹œ (19:00-21:00)</option>
<option value="22">í•´ì‹œ (21:00-23:00)</option>
</select>
</div>
<div class="form-check">
<input id="isLunar" name="isLunar" type="checkbox"/>
<label for="isLunar">ìŒë ¥ ìƒì¼ì…ë‹ˆë‹¤</label>
</div>
<button class="btn-submit" type="submit">ì˜¤ëŠ˜ì˜ ìš´ì„¸ ë³´ê¸°</button>
</form>
</div>
<!-- ìš´ì„¸ ê²°ê³¼ -->
<div id="fortuneResult" style="display: none;">
<!-- ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
</div>
</div>
</section>
<!-- ê´‘ê³  ì˜ì—­ -->
<div class="ad-container">
<div class="ad-label">ê´‘ê³ </div>
<div id="ad-container-bcswbbp8s" style="min-height: 100px;">
<div class="ad-placeholder" style="display: flex; align-items: center; justify-content: center; background: #f5f5f5; min-height: 100px; color: #999;">
        ê´‘ê³  ë¡œë”© ì¤‘...
    </div>
</div>
<script>

if ('IntersectionObserver' in window) {
    const adObserver = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
            if (entry.isIntersecting) {
                const container = entry.target;
                container.innerHTML = `<ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-7905640648499222"
             data-ad-slot="2789891628"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>`;
                if (typeof adsbygoogle !== 'undefined') {
                    (adsbygoogle = window.adsbygoogle || []).push({});
                }
                adObserver.unobserve(container);
            }
        });
    }, { rootMargin: '50px' });
    
    const adContainer = document.getElementById('ad-container-bcswbbp8s');
    if (adContainer) {
        adObserver.observe(adContainer);
    }
}
</script>
</div>
<!-- í‘¸í„° -->
<div id="footer-placeholder"></div>
<!-- External JavaScript -->
<script src="/js/main.js?v=1753150228"></script>
<script src="/js/api-config.js?v=1753150228"></script>
<script>

        document.addEventListener('DOMContentLoaded', function() {

            const yearSelect = document.getElementById('birthYear');
            const currentYear = new Date().getFullYear();
            for (let year = currentYear; year >= 1900; year--) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year + 'ë…„';
                yearSelect.appendChild(option);
            }

            document.getElementById('birthMonth').addEventListener('change', updateDayOptions);
            document.getElementById('birthYear').addEventListener('change', updateDayOptions);
        });

        function updateDayOptions() {
            const year = parseInt(document.getElementById('birthYear').value);
            const month = parseInt(document.getElementById('birthMonth').value);
            const daySelect = document.getElementById('birthDay');
            
            daySelect.innerHTML = '<option value="">ì¼ ì„ íƒ</option>';
            
            if (year && month) {
                const daysInMonth = new Date(year, month, 0).getDate();
                for (let day = 1; day <= daysInMonth; day++) {
                    const option = document.createElement('option');
                    option.value = day;
                    option.textContent = day + 'ì¼';
                    daySelect.appendChild(option);
                }
            }
        }

        function generateDailyFortune(event) {
            event.preventDefault();
            
            const userName = document.getElementById('userName').value;
            const birthYear = parseInt(document.getElementById('birthYear').value);
            const birthMonth = parseInt(document.getElementById('birthMonth').value);
            const birthDay = parseInt(document.getElementById('birthDay').value);
            const birthTime = parseInt(document.getElementById('birthTime').value);
            const isLunar = document.getElementById('isLunar').checked;

            const resultDiv = document.getElementById('fortuneResult');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `
                <div class="daily-ai-analyzing">
                    <div class="fortune-loading-spinner"></div>
                    <div class="fortune-loading-text">ğŸ”® ë§Œì„¸ë ¥ìœ¼ë¡œ ${userName}ë‹˜ì˜ ì‚¬ì£¼ë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤<span class="fortune-loading-dots"></span></div>
                </div>
            `;

            document.getElementById('fortuneForm').style.display = 'none';

            setTimeout(() => {
                displayDailyFortune(userName, birthYear, birthMonth, birthDay, birthTime, isLunar);
            }, 2000);
        }

        function displayDailyFortune(userName, birthYear, birthMonth, birthDay, birthTime, isLunar) {

            if (typeof SajuCalculator === 'undefined') {
                console.error('SajuCalculatorê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                alert('í˜ì´ì§€ ë¡œë”© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ìƒˆë¡œê³ ì¹¨ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                location.reload();
                return;
            }

            const saju = window.sajuCalculator.calculateSaju(birthYear, birthMonth, birthDay, birthTime >= 0 ? birthTime : 12, isLunar);

            const today = new Date();

            const todayPillar = getTodayPillarFromManseryeok();

            const relation = analyzeRelation(saju.dayPillar, todayPillar);
            const fortune = generateDetailedFortune(saju, todayPillar, relation);
            
            const resultDiv = document.getElementById('fortuneResult');
            resultDiv.innerHTML = `
                <div class="fortune-result-container">
                    <h2 style="text-align: center; margin-bottom: 30px;">
                        ${userName}ë‹˜ì˜ ${today.getFullYear()}ë…„ ${today.getMonth() + 1}ì›” ${today.getDate()}ì¼ ìš´ì„¸
                    </h2>
                    
                    <div class="saju-brief">
                        <h3>ğŸ“… ì‚¬ì£¼íŒ”ì (å››æŸ±å…«å­—)</h3>
                        <div class="pillars-row">
                            <div class="pillar-item">
                                <div class="pillar-label">ì—°ì£¼ (å¹´æŸ±)</div>
                                <div class="pillar-chars">
                                    <span class="stem">${saju.yearPillar.stem}</span>
                                    <span class="branch">${saju.yearPillar.branch}</span>
                                </div>
                                <div class="pillar-ten-god">${saju.tenGods.year}</div>
                            </div>
                            
                            <div class="pillar-item">
                                <div class="pillar-label">ì›”ì£¼ (æœˆæŸ±)</div>
                                <div class="pillar-chars">
                                    <span class="stem">${saju.monthPillar.stem}</span>
                                    <span class="branch">${saju.monthPillar.branch}</span>
                                </div>
                                <div class="pillar-ten-god">${saju.tenGods.month}</div>
                            </div>
                            
                            <div class="pillar-item highlight">
                                <div class="pillar-label">ì¼ì£¼ (æ—¥æŸ±) â­</div>
                                <div class="pillar-chars">
                                    <span class="stem">${saju.dayPillar.stem}</span>
                                    <span class="branch">${saju.dayPillar.branch}</span>
                                </div>
                                <div class="pillar-ten-god">ì¼ì£¼(ë³¸ì¸)</div>
                            </div>
                            
                            <div class="pillar-item ${birthTime < 0 ? 'unknown' : ''}">
                                <div class="pillar-label">ì‹œì£¼ (æ™‚æŸ±)</div>
                                <div class="pillar-chars">
                                    <span class="stem">${birthTime >= 0 ? saju.hourPillar.stem : '?'}</span>
                                    <span class="branch">${birthTime >= 0 ? saju.hourPillar.branch : '?'}</span>
                                </div>
                                <div class="pillar-ten-god">${birthTime >= 0 ? saju.tenGods.hour : 'ë¯¸ìƒ'}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="today-pillar">
                        <h3>ğŸŒ… ì˜¤ëŠ˜ì˜ ì¼ì§„</h3>
                        <div class="today-info">
                            <span class="today-stem">${todayPillar.stem}</span>
                            <span class="today-branch">${todayPillar.branch}</span>
                            <span class="today-day">ì¼ (${todayPillar.stem}${todayPillar.branch}æ—¥)</span>
                        </div>
                    </div>
                    
                    <div class="fortune-scores">
                        <div class="score-card">
                            <div class="score-icon">ğŸ’«</div>
                            <div class="score-label">ì´ìš´</div>
                            <div class="score-value" style="color: ${getScoreColor(fortune.overallScore)}">${fortune.overallScore}</div>
                            <div class="score-bar">
                                <div class="score-fill" style="width: ${fortune.overallScore}%; background: ${getScoreColor(fortune.overallScore)}"></div>
                            </div>
                        </div>
                        
                        <div class="score-card">
                            <div class="score-icon">â¤ï¸</div>
                            <div class="score-label">ì• ì •ìš´</div>
                            <div class="score-value" style="color: ${getScoreColor(fortune.loveScore)}">${fortune.loveScore}</div>
                            <div class="score-bar">
                                <div class="score-fill" style="width: ${fortune.loveScore}%; background: ${getScoreColor(fortune.loveScore)}"></div>
                            </div>
                        </div>
                        
                        <div class="score-card">
                            <div class="score-icon">ğŸ’°</div>
                            <div class="score-label">ê¸ˆì „ìš´</div>
                            <div class="score-value" style="color: ${getScoreColor(fortune.moneyScore)}">${fortune.moneyScore}</div>
                            <div class="score-bar">
                                <div class="score-fill" style="width: ${fortune.moneyScore}%; background: ${getScoreColor(fortune.moneyScore)}"></div>
                            </div>
                        </div>
                        
                        <div class="score-card">
                            <div class="score-icon">ğŸƒ</div>
                            <div class="score-label">ê±´ê°•ìš´</div>
                            <div class="score-value" style="color: ${getScoreColor(fortune.healthScore)}">${fortune.healthScore}</div>
                            <div class="score-bar">
                                <div class="score-fill" style="width: ${fortune.healthScore}%; background: ${getScoreColor(fortune.healthScore)}"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="fortune-details">
                        <div class="fortune-category">
                            <h4>ğŸ’« ì´ìš´</h4>
                            <p>${fortune.overallFortune}</p>
                        </div>
                        
                        <div class="fortune-category">
                            <h4>â¤ï¸ ì• ì •ìš´</h4>
                            <p>${fortune.loveFortune}</p>
                            <div class="fortune-advice">
                                <strong>ğŸ’¡ ì¡°ì–¸:</strong> ${fortune.loveAdvice}
                            </div>
                        </div>
                        
                        <div class="fortune-category">
                            <h4>ğŸ’° ê¸ˆì „ìš´</h4>
                            <p>${fortune.moneyFortune}</p>
                            <div class="fortune-advice">
                                <strong>ğŸ’¡ ì¡°ì–¸:</strong> ${fortune.moneyAdvice}
                            </div>
                        </div>
                        
                        <div class="fortune-category">
                            <h4>ğŸ’¼ ì§ì—…ìš´</h4>
                            <p>${fortune.careerFortune}</p>
                            <div class="fortune-advice">
                                <strong>ğŸ’¡ ì¡°ì–¸:</strong> ${fortune.careerAdvice}
                            </div>
                        </div>
                        
                        <div class="fortune-category">
                            <h4>ğŸƒ ê±´ê°•ìš´</h4>
                            <p>${fortune.healthFortune}</p>
                            <div class="fortune-advice">
                                <strong>ğŸ’¡ ì¡°ì–¸:</strong> ${fortune.healthAdvice}
                            </div>
                        </div>
                    </div>
                    
                    <div class="lucky-elements">
                        <h3>ğŸŒŸ ì˜¤ëŠ˜ì˜ í–‰ìš´ ìš”ì†Œ</h3>
                        <div class="lucky-items">
                            <div class="lucky-box">
                                <div class="lucky-icon">â°</div>
                                <div class="lucky-label">í–‰ìš´ì˜ ì‹œê°„</div>
                                <div class="lucky-value">${fortune.luckyTime}</div>
                            </div>
                            <div class="lucky-box">
                                <div class="lucky-icon">ğŸ§­</div>
                                <div class="lucky-label">í–‰ìš´ì˜ ë°©í–¥</div>
                                <div class="lucky-value">${fortune.luckyDirection}</div>
                            </div>
                            <div class="lucky-box">
                                <div class="lucky-icon">ğŸ¨</div>
                                <div class="lucky-label">í–‰ìš´ì˜ ìƒ‰ìƒ</div>
                                <div class="lucky-value">${fortune.luckyColor}</div>
                            </div>
                            <div class="lucky-box">
                                <div class="lucky-icon">ğŸ”¢</div>
                                <div class="lucky-label">í–‰ìš´ì˜ ìˆ«ì</div>
                                <div class="lucky-value">${fortune.luckyNumber}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="daily-advice-section">
                        <h3>ğŸ“ ì˜¤ëŠ˜ì˜ ì¡°ì–¸</h3>
                        <div class="advice-content">
                            <p class="main-advice">${fortune.advice}</p>
                            <div class="advice-details">
                                <div class="advice-item">
                                    <strong>âœ… ì˜¤ëŠ˜ í•˜ë©´ ì¢‹ì€ ì¼</strong>
                                    ${fortune.doAdvice}
                                </div>
                                <div class="advice-item">
                                    <strong>âŒ ì˜¤ëŠ˜ í”¼í•´ì•¼ í•  ì¼</strong>
                                    ${fortune.dontAdvice}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button onclick="location.reload()" class="btn btn-primary">ë‹¤ì‹œ ë³´ê¸°</button>
                        <button onclick="shareFortune()" class="btn btn-secondary">ê³µìœ í•˜ê¸°</button>
                    </div>
                </div>
            `;
            
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function analyzeRelation(dayPillar, todayPillar) {
            const relations = {
                stemRelation: analyzeStemRelation(dayPillar.stem, todayPillar.stem),
                branchRelation: analyzeBranchRelation(dayPillar.branch, todayPillar.branch),
                specialRelation: findSpecialRelation(dayPillar.branch, todayPillar.branch)
            };
            
            return relations;
        }

        function analyzeStemRelation(stem1, stem2) {
            const stemElements = {
                'ê°‘': 'ëª©', 'ì„': 'ëª©',
                'ë³‘': 'í™”', 'ì •': 'í™”',
                'ë¬´': 'í† ', 'ê¸°': 'í† ',
                'ê²½': 'ê¸ˆ', 'ì‹ ': 'ê¸ˆ',
                'ì„': 'ìˆ˜', 'ê³„': 'ìˆ˜'
            };
            
            const element1 = stemElements[stem1];
            const element2 = stemElements[stem2];

            const relations = {
                'ëª©': { generate: 'í™”', control: 'í† ', generated: 'ìˆ˜', controlled: 'ê¸ˆ' },
                'í™”': { generate: 'í† ', control: 'ê¸ˆ', generated: 'ëª©', controlled: 'ìˆ˜' },
                'í† ': { generate: 'ê¸ˆ', control: 'ìˆ˜', generated: 'í™”', controlled: 'ëª©' },
                'ê¸ˆ': { generate: 'ìˆ˜', control: 'ëª©', generated: 'í† ', controlled: 'í™”' },
                'ìˆ˜': { generate: 'ëª©', control: 'í™”', generated: 'ê¸ˆ', controlled: 'í† ' }
            };
            
            if (element1 === element2) return 'same';
            if (relations[element1].generate === element2) return 'generate';
            if (relations[element1].generated === element2) return 'generated';
            if (relations[element1].control === element2) return 'control';
            if (relations[element1].controlled === element2) return 'controlled';
            
            return 'none';
        }

        function analyzeBranchRelation(branch1, branch2) {
            const branchElements = {
                'ì': 'ìˆ˜', 'ì¶•': 'í† ', 'ì¸': 'ëª©', 'ë¬˜': 'ëª©',
                'ì§„': 'í† ', 'ì‚¬': 'í™”', 'ì˜¤': 'í™”', 'ë¯¸': 'í† ',
                'ì‹ ': 'ê¸ˆ', 'ìœ ': 'ê¸ˆ', 'ìˆ ': 'í† ', 'í•´': 'ìˆ˜'
            };
            
            const element1 = branchElements[branch1];
            const element2 = branchElements[branch2];
            
            return analyzeStemRelation(element1, element2);
        }

        function findSpecialRelation(branch1, branch2) {

            const combinations = {
                'ì': 'ì¶•', 'ì¶•': 'ì',
                'ì¸': 'í•´', 'í•´': 'ì¸',
                'ë¬˜': 'ìˆ ', 'ìˆ ': 'ë¬˜',
                'ì§„': 'ìœ ', 'ìœ ': 'ì§„',
                'ì‚¬': 'ì‹ ', 'ì‹ ': 'ì‚¬',
                'ì˜¤': 'ë¯¸', 'ë¯¸': 'ì˜¤'
            };

            const clashes = {
                'ì': 'ì˜¤', 'ì˜¤': 'ì',
                'ì¶•': 'ë¯¸', 'ë¯¸': 'ì¶•',
                'ì¸': 'ì‹ ', 'ì‹ ': 'ì¸',
                'ë¬˜': 'ìœ ', 'ìœ ': 'ë¬˜',
                'ì§„': 'ìˆ ', 'ìˆ ': 'ì§„',
                'ì‚¬': 'í•´', 'í•´': 'ì‚¬'
            };

            const punishments = {
                'ì¸': ['ì‚¬', 'ì‹ '], 'ì‚¬': ['ì¸', 'ì‹ '], 'ì‹ ': ['ì¸', 'ì‚¬'],
                'ì¶•': ['ìˆ ', 'ë¯¸'], 'ìˆ ': ['ì¶•', 'ë¯¸'], 'ë¯¸': ['ì¶•', 'ìˆ ']
            };
            
            if (combinations[branch1] === branch2) {
                return { type: 'ìœ¡í•©', strength: 'positive' };
            }
            
            if (clashes[branch1] === branch2) {
                return { type: 'ì¶©', strength: 'negative' };
            }
            
            if (punishments[branch1] && punishments[branch1].includes(branch2)) {
                return { type: 'í˜•', strength: 'negative' };
            }
            
            return { type: 'none', strength: 'neutral' };
        }

        function generateDetailedFortune(saju, todayPillar, relation) {

            const baseScore = 65;
            let overallScore = baseScore;

            if (relation.stemRelation === 'generate' || relation.stemRelation === 'generated') {
                overallScore += 10;
            } else if (relation.stemRelation === 'control' || relation.stemRelation === 'controlled') {
                overallScore -= 10;
            }
            
            if (relation.specialRelation.type === 'ìœ¡í•©') {
                overallScore += 20;
            } else if (relation.specialRelation.type === 'ì¶©') {
                overallScore -= 15;
            } else if (relation.specialRelation.type === 'í˜•') {
                overallScore -= 10;
            }

            overallScore = Math.max(20, Math.min(95, overallScore));

            const loveScore = Math.max(20, Math.min(95, overallScore + Math.floor(Math.random() * 20 - 10)));
            const moneyScore = Math.max(20, Math.min(95, overallScore + Math.floor(Math.random() * 20 - 10)));
            const healthScore = Math.max(20, Math.min(95, overallScore + Math.floor(Math.random() * 20 - 10)));
            const careerScore = Math.max(20, Math.min(95, overallScore + Math.floor(Math.random() * 20 - 10)));

            const overallFortune = generateOverallMessage(saju, overallScore, relation);
            const loveFortune = generateLoveMessage(saju, loveScore, relation);
            const moneyFortune = generateMoneyMessage(saju, moneyScore, relation);
            const careerFortune = generateCareerMessage(saju, careerScore, relation);
            const healthFortune = generateHealthMessage(saju, healthScore, relation);

            const luckyElements = generateLuckyElements(saju, todayPillar);

            const advice = generateAdvice(saju, todayPillar, relation);
            
            return {
                overallScore,
                loveScore,
                moneyScore,
                healthScore,
                overallFortune,
                loveFortune,
                loveAdvice: generateLoveAdvice(saju, loveScore),
                moneyFortune,
                moneyAdvice: generateMoneyAdvice(saju, moneyScore),
                careerFortune,
                careerAdvice: generateCareerAdvice(saju, careerScore),
                healthFortune,
                healthAdvice: generateHealthAdvice(saju, healthScore),
                ...luckyElements,
                ...advice
            };
        }

        function generateOverallMessage(saju, score, relation) {
            const dayMaster = saju.dayPillar.stem + saju.dayPillar.branch;
            let message = `${dayMaster}ì¼ì£¼ì¸ ë‹¹ì‹ ì˜ ì˜¤ëŠ˜ ìš´ì„¸ëŠ” `;
            
            if (score >= 80) {
                message += 'ë§¤ìš° ì¢‹ìŠµë‹ˆë‹¤! ';
                if (relation.specialRelation.type === 'ìœ¡í•©') {
                    message += 'ìœ¡í•©ì˜ ì¡°í™”ë¡œìš´ ê¸°ìš´ì´ ë‹¹ì‹ ì„ ê°ì‹¸ê³  ìˆì–´, ëª¨ë“  ì¼ì´ ìˆœì¡°ë¡­ê²Œ ì§„í–‰ë  ê²ƒì…ë‹ˆë‹¤. ';
                }
                message += 'í‰ì†Œ ë¯¸ë¤„ì™”ë˜ ì¤‘ìš”í•œ ì¼ì„ ì‹œì‘í•˜ê¸°ì— ìµœì ì˜ ë‚ ì…ë‹ˆë‹¤.';
            } else if (score >= 60) {
                message += 'í‰ê·  ì´ìƒì…ë‹ˆë‹¤. ';
                message += 'í° ë³€í™”ë³´ë‹¤ëŠ” ì•ˆì •ì ì¸ íë¦„ ì†ì—ì„œ ì°¨ê·¼ì°¨ê·¼ ì¼ì„ ì§„í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ê² ìŠµë‹ˆë‹¤.';
            } else {
                message += 'ë‹¤ì†Œ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. ';
                if (relation.specialRelation.type === 'ì¶©') {
                    message += 'ì¶©ì˜ ë³€í™” ì—ë„ˆì§€ê°€ ê°•í•˜ë¯€ë¡œ ì˜ˆìƒì¹˜ ëª»í•œ ìƒí™©ì— ëŒ€ë¹„í•˜ì„¸ìš”. ';
                }
                message += 'ë¬´ë¦¬í•˜ì§€ ë§ê³  ì‹ ì¤‘í•˜ê²Œ í–‰ë™í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.';
            }
            
            return message;
        }
        
        function generateLoveMessage(saju, score, relation) {
            const element = FIVE_ELEMENTS[saju.dayPillar.stem];
            let message = '';
            
            if (score >= 80) {
                message = `ì• ì •ìš´ì´ ë§¤ìš° ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤. ${element}ì˜ ë§¤ë ¥ì´ ë¹›ì„ ë°œí•˜ì—¬ ì´ì„±ì—ê²Œ ì¢‹ì€ ì¸ìƒì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `;
                message += 'ì—°ì¸ì´ ìˆë‹¤ë©´ ê¹Šì€ ëŒ€í™”ë¥¼ ë‚˜ëˆ„ê¸° ì¢‹ê³ , ì‹±ê¸€ì´ë¼ë©´ ìƒˆë¡œìš´ ë§Œë‚¨ì˜ ê¸°íšŒê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
            } else if (score >= 60) {
                message = 'í‰ì˜¨í•œ ì• ì •ìš´ì…ë‹ˆë‹¤. ì„œë¡œë¥¼ ì´í•´í•˜ê³  ë°°ë ¤í•˜ëŠ” ë§ˆìŒì´ ì¤‘ìš”í•œ ì‹œê¸°ì…ë‹ˆë‹¤. ';
                message += 'ì‘ì€ ì„ ë¬¼ì´ë‚˜ ë”°ëœ»í•œ ë§ í•œë§ˆë””ê°€ ê´€ê³„ë¥¼ ë”ìš± ëˆë…í•˜ê²Œ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤.';
            } else {
                message = 'ì• ì • ê´€ê³„ì—ì„œ ì•½ê°„ì˜ ê¸´ì¥ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ';
                message += 'ê°ì •ì ìœ¼ë¡œ ì˜ˆë¯¼í•´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ìƒëŒ€ë°©ì˜ ì…ì¥ì„ ì´í•´í•˜ë ¤ê³  ë…¸ë ¥í•˜ì„¸ìš”.';
            }
            
            return message;
        }
        
        function generateMoneyMessage(saju, score, relation) {
            let message = '';
            
            if (score >= 80) {
                message = 'ê¸ˆì „ìš´ì´ ìƒìŠ¹í•˜ëŠ” ë‚ ì…ë‹ˆë‹¤. íˆ¬ìë‚˜ ì‚¬ì—…ì—ì„œ ì¢‹ì€ ê¸°íšŒë¥¼ í¬ì°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ';
                message += 'ë‹¤ë§Œ ê³¼ìš•ì€ ê¸ˆë¬¼ì´ë‹ˆ ì ì ˆí•œ ì„ ì—ì„œ ë§Œì¡±í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.';
            } else if (score >= 60) {
                message = 'ì•ˆì •ì ì¸ ê¸ˆì „ íë¦„ì´ ì˜ˆìƒë©ë‹ˆë‹¤. ê³„íšì ì¸ ì†Œë¹„ì™€ ì €ì¶•ì„ ì‹¤ì²œí•˜ê¸° ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤. ';
                message += 'ì¶©ë™êµ¬ë§¤ëŠ” í”¼í•˜ê³  í•„ìš”í•œ ê²ƒë§Œ êµ¬ì…í•˜ì„¸ìš”.';
            } else {
                message = 'ê¸ˆì „ì ìœ¼ë¡œ ì‹ ì¤‘í•´ì•¼ í•˜ëŠ” ë‚ ì…ë‹ˆë‹¤. í° ì§€ì¶œì´ë‚˜ íˆ¬ìëŠ” ë¯¸ë£¨ëŠ” ê²ƒì´ ì¢‹ê² ìŠµë‹ˆë‹¤. ';
                message += 'ì˜ˆìƒì¹˜ ëª»í•œ ì§€ì¶œì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ ì—¬ìœ  ìê¸ˆì„ í™•ë³´í•´ë‘ì„¸ìš”.';
            }
            
            return message;
        }
        
        function generateCareerMessage(saju, score, relation) {
            let message = '';
            
            if (score >= 80) {
                message = 'ì§ì¥ì—ì„œì˜ ì„±ê³¼ê°€ ë‹ë³´ì´ëŠ” ë‚ ì…ë‹ˆë‹¤. ìƒì‚¬ë‚˜ ë™ë£Œë“¤ì—ê²Œ ëŠ¥ë ¥ì„ ì¸ì •ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ';
                message += 'ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë‚˜ ì¤‘ìš”í•œ ì—…ë¬´ë¥¼ ë§¡ê¸°ì— ì¢‹ì€ ì‹œê¸°ì…ë‹ˆë‹¤.';
            } else if (score >= 60) {
                message = 'í‰ì†Œì™€ ê°™ì€ ì—…ë¬´ íë¦„ì´ ì´ì–´ì§‘ë‹ˆë‹¤. ë¬µë¬µíˆ ìì‹ ì˜ ì¼ì— ì§‘ì¤‘í•˜ë©´ ì¢‹ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ';
                message += 'ë™ë£Œë“¤ê³¼ì˜ í˜‘ë ¥ì´ ì¤‘ìš”í•œ ë‚ ì…ë‹ˆë‹¤.';
            } else {
                message = 'ì—…ë¬´ìƒ ì•½ê°„ì˜ ì–´ë ¤ì›€ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤ìˆ˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ê¼¼ê¼¼íˆ í™•ì¸í•˜ì„¸ìš”. ';
                message += 'ì¤‘ìš”í•œ ê²°ì •ì€ ë‹¤ìŒìœ¼ë¡œ ë¯¸ë£¨ëŠ” ê²ƒì´ í˜„ëª…í•©ë‹ˆë‹¤.';
            }
            
            return message;
        }
        
        function generateHealthMessage(saju, score, relation) {
            const element = FIVE_ELEMENTS[saju.dayPillar.stem];
            const organMap = {
                'ëª©': 'ê°„ê³¼ ë‹´',
                'í™”': 'ì‹¬ì¥ê³¼ í˜ˆê´€',
                'í† ': 'ë¹„ì¥ê³¼ ì†Œí™”ê¸°',
                'ê¸ˆ': 'íì™€ í˜¸í¡ê¸°',
                'ìˆ˜': 'ì‹ ì¥ê³¼ ë°©ê´‘'
            };
            
            const organ = organMap[element];
            let message = '';
            
            if (score >= 80) {
                message = `ê±´ê°• ìƒíƒœê°€ ë§¤ìš° ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤. ${organ} ê¸°ëŠ¥ì´ í™œë°œí•˜ì—¬ ì „ë°˜ì ì¸ ì»¨ë””ì…˜ì´ ìµœìƒì…ë‹ˆë‹¤. `;
                message += 'ìš´ë™ì´ë‚˜ ì•¼ì™¸ í™œë™ì„ ì¦ê¸°ê¸°ì— ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤.';
            } else if (score >= 60) {
                message = `í‰ì†Œì™€ ë¹„ìŠ·í•œ ê±´ê°• ìƒíƒœë¥¼ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤. ${organ}ì— ì¢‹ì€ ìŒì‹ì„ ì„­ì·¨í•˜ë©´ ë„ì›€ì´ ë©ë‹ˆë‹¤. `;
                message += 'ê·œì¹™ì ì¸ ìƒí™œ ìŠµê´€ì„ ìœ ì§€í•˜ì„¸ìš”.';
            } else {
                message = `ì»¨ë””ì…˜ì´ ë‹¤ì†Œ ë–¨ì–´ì§ˆ ìˆ˜ ìˆëŠ” ë‚ ì…ë‹ˆë‹¤. ${organ}ì— íŠ¹íˆ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. `;
                message += 'ë¬´ë¦¬í•œ í™œë™ì€ í”¼í•˜ê³  ì¶©ë¶„í•œ íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”.';
            }
            
            return message;
        }

        function generateLoveAdvice(saju, score) {
            if (score >= 80) {
                return 'ì˜¤ëŠ˜ì€ ì ê·¹ì ìœ¼ë¡œ ê°ì •ì„ í‘œí˜„í•˜ì„¸ìš”. ë¡œë§¨í‹±í•œ ë°ì´íŠ¸ë‚˜ ì§„ì‹¬ ì–´ë¦° ê³ ë°±ì´ ì¢‹ì€ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ê²ƒì…ë‹ˆë‹¤.';
            } else if (score >= 60) {
                return 'í‰ì†Œë³´ë‹¤ ë” ë§ì€ ê´€ì‹¬ê³¼ ë°°ë ¤ë¥¼ ë³´ì—¬ì£¼ì„¸ìš”. ì‘ì€ ì •ì„±ì´ í° ê°ë™ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
            } else {
                return 'ê°ì •ì ìœ¼ë¡œ ì˜ˆë¯¼í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì¤‘ìš”í•œ ëŒ€í™”ëŠ” ë¯¸ë£¨ì„¸ìš”. í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°–ëŠ” ê²ƒë„ ì¢‹ìŠµë‹ˆë‹¤.';
            }
        }
        
        function generateMoneyAdvice(saju, score) {
            if (score >= 80) {
                return 'íˆ¬ìë‚˜ ì‚¬ì—… í™•ì¥ì˜ ì¢‹ì€ ê¸°íšŒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ìš•ì‹¬ì„ ë¶€ë¦¬ì§€ ë§ê³  ë¶„ì‚° íˆ¬ìë¥¼ ê³ ë ¤í•˜ì„¸ìš”.';
            } else if (score >= 60) {
                return 'ì•ˆì •ì ì¸ ì¬í…Œí¬ ì „ëµì„ ìœ ì§€í•˜ì„¸ìš”. ì¥ê¸°ì ì¸ ê´€ì ì—ì„œ ê¾¸ì¤€íˆ ì €ì¶•í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.';
            } else {
                return 'ì§€ì¶œì„ ìµœì†Œí™”í•˜ê³  ë¹„ìƒê¸ˆì„ í™•ë³´í•˜ì„¸ìš”. ë¦¬ìŠ¤í¬ê°€ í° íˆ¬ìëŠ” í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.';
            }
        }
        
        function generateCareerAdvice(saju, score) {
            if (score >= 80) {
                return 'ìì‹ ê°ì„ ê°–ê³  ìƒˆë¡œìš´ ë„ì „ì„ ì‹œì‘í•˜ì„¸ìš”. ë‹¹ì‹ ì˜ ëŠ¥ë ¥ì´ ë¹›ì„ ë°œí•  ìµœì ì˜ ì‹œê¸°ì…ë‹ˆë‹¤.';
            } else if (score >= 60) {
                return 'ê¾¸ì¤€í•¨ì´ ì„±ê³µì˜ ì—´ì‡ ì…ë‹ˆë‹¤. í˜„ì¬ ë§¡ì€ ì¼ì— ìµœì„ ì„ ë‹¤í•˜ë©´ ì¢‹ì€ í‰ê°€ë¥¼ ë°›ì„ ê²ƒì…ë‹ˆë‹¤.';
            } else {
                return 'ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ë‘ ë²ˆ í™•ì¸í•˜ì„¸ìš”. ë™ë£Œë“¤ê³¼ì˜ ì†Œí†µì„ ê°•í™”í•˜ì—¬ í˜‘ë ¥ì„ êµ¬í•˜ì„¸ìš”.';
            }
        }
        
        function generateHealthAdvice(saju, score) {
            if (score >= 80) {
                return 'í™œë™ì ì¸ ìš´ë™ì„ ì¦ê¸°ê¸° ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ìš´ë™ì„ ì‹œì‘í•˜ê±°ë‚˜ ì•¼ì™¸ í™œë™ì„ ê³„íší•´ë³´ì„¸ìš”.';
            } else if (score >= 60) {
                return 'ê·œì¹™ì ì¸ ìƒí™œ ë¦¬ë“¬ì„ ìœ ì§€í•˜ì„¸ìš”. ê°€ë²¼ìš´ ìŠ¤íŠ¸ë ˆì¹­ê³¼ ì¶©ë¶„í•œ ìˆ˜ë¶„ ì„­ì·¨ê°€ ë„ì›€ì´ ë©ë‹ˆë‹¤.';
            } else {
                return 'ë¬´ë¦¬í•˜ì§€ ë§ê³  ì¶©ë¶„í•œ íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”. ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ì™€ ëª…ìƒì´ ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.';
            }
        }

        function generateLuckyElements(saju, todayPillar) {
            const dayMaster = saju.dayPillar.stem;
            const todayElement = FIVE_ELEMENTS[todayPillar.stem];

            const timeMap = {
                'ê°‘': 'ë¬˜ì‹œ (05:00-07:00)',
                'ì„': 'ë¬˜ì‹œ (05:00-07:00)',
                'ë³‘': 'ì˜¤ì‹œ (11:00-13:00)',
                'ì •': 'ì‚¬ì‹œ (09:00-11:00)',
                'ë¬´': 'ì§„ì‹œ (07:00-09:00)',
                'ê¸°': 'ë¯¸ì‹œ (13:00-15:00)',
                'ê²½': 'ì‹ ì‹œ (15:00-17:00)',
                'ì‹ ': 'ìœ ì‹œ (17:00-19:00)',
                'ì„': 'ìì‹œ (23:00-01:00)',
                'ê³„': 'í•´ì‹œ (21:00-23:00)'
            };

            const directionMap = {
                'ëª©': 'ë™ìª½',
                'í™”': 'ë‚¨ìª½',
                'í† ': 'ì¤‘ì•™',
                'ê¸ˆ': 'ì„œìª½',
                'ìˆ˜': 'ë¶ìª½'
            };

            const colorMap = {
                'ëª©': 'ì´ˆë¡ìƒ‰, ì²­ë¡ìƒ‰',
                'í™”': 'ë¹¨ê°„ìƒ‰, ë³´ë¼ìƒ‰',
                'í† ': 'ë…¸ë€ìƒ‰, ê°ˆìƒ‰',
                'ê¸ˆ': 'í°ìƒ‰, ì€ìƒ‰',
                'ìˆ˜': 'ê²€ì€ìƒ‰, íŒŒë€ìƒ‰'
            };

            const numberMap = {
                'ê°‘': '3, 8',
                'ì„': '3, 8',
                'ë³‘': '2, 7',
                'ì •': '2, 7',
                'ë¬´': '5, 10',
                'ê¸°': '5, 10',
                'ê²½': '4, 9',
                'ì‹ ': '4, 9',
                'ì„': '1, 6',
                'ê³„': '1, 6'
            };
            
            return {
                luckyTime: timeMap[dayMaster],
                luckyDirection: directionMap[FIVE_ELEMENTS[dayMaster]],
                luckyColor: colorMap[todayElement],
                luckyNumber: numberMap[dayMaster]
            };
        }

        function generateAdvice(saju, todayPillar, relation) {
            const dayMaster = saju.dayPillar.stem;
            const element = FIVE_ELEMENTS[dayMaster];
            
            let mainAdvice = '';
            let doAdvice = '';
            let dontAdvice = '';

            if (relation.specialRelation.type === 'ìœ¡í•©') {
                mainAdvice = `ì˜¤ëŠ˜ì€ ìœ¡í•©ì˜ ì¡°í™”ë¡œìš´ ê¸°ìš´ì´ ê°€ë“í•œ ë‚ ì…ë‹ˆë‹¤. ${dayMaster}ì¼ì£¼ì¸ ë‹¹ì‹ ì˜ ì¥ì ì´ ìµœëŒ€í•œ ë°œíœ˜ë  ìˆ˜ ìˆìœ¼ë‹ˆ, í‰ì†Œ ë¯¸ë¤„ì™”ë˜ ì¤‘ìš”í•œ ì¼ì„ ì§„í–‰í•´ë³´ì„¸ìš”.`;
            } else if (relation.specialRelation.type === 'ì¶©') {
                mainAdvice = `ì¶©ì˜ ë³€í™” ì—ë„ˆì§€ê°€ ê°•í•œ ë‚ ì…ë‹ˆë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆì§€ë§Œ, ì´ëŠ” ìƒˆë¡œìš´ ê¸°íšŒê°€ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.`;
            } else {
                mainAdvice = `${element}ì˜ íŠ¹ì„±ì„ ì‚´ë ¤ ì°¨ë¶„í•˜ê³  ì‹ ì¤‘í•˜ê²Œ í•˜ë£¨ë¥¼ ë³´ë‚´ì„¸ìš”. í° ë³€í™”ë³´ë‹¤ëŠ” ì¼ìƒì˜ ì†Œì¤‘í•¨ì„ ëŠë¼ë©° ë‚´ì  ì„±ì¥ì— ì§‘ì¤‘í•˜ëŠ” ê²ƒì´ ì¢‹ê² ìŠµë‹ˆë‹¤.`;
            }

            const doList = {
                'ëª©': 'ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ ì‹œì‘',
                'í™”': 'í”„ë ˆì  í…Œì´ì…˜ì´ë‚˜ ë°œí‘œ',
                'í† ': 'ê³„íš ìˆ˜ë¦½ê³¼ ì •ë¦¬',
                'ê¸ˆ': 'ì¤‘ìš”í•œ ê²°ì •',
                'ìˆ˜': 'í•™ìŠµê³¼ ì—°êµ¬'
            };
            
            doAdvice = doList[element];

            const dontList = {
                'ëª©': 'ê³ ì§‘ìŠ¤ëŸ¬ìš´ íƒœë„',
                'í™”': 'ê³¼ë„í•œ ì—´ì •',
                'í† ': 'ìš°ìœ ë¶€ë‹¨í•¨',
                'ê¸ˆ': 'ìœµí†µì„± ë¶€ì¡±',
                'ìˆ˜': 'ì±…ì„ íšŒí”¼'
            };
            
            dontAdvice = dontList[element];
            
            return {
                advice: mainAdvice,
                doAdvice,
                dontAdvice
            };
        }

        function getScoreColor(score) {
            if (score >= 85) return '#10b981';
            if (score >= 70) return '#3b82f6';
            if (score >= 55) return '#f59e0b';
            return '#ef4444';
        }

        function shareFortune() {
            const text = 'ë‚˜ì˜ ì˜¤ëŠ˜ ìš´ì„¸ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!';
            const url = window.location.href;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ì˜¤ëŠ˜ì˜ ìš´ì„¸',
                    text: text,
                    url: url
                });
            } else {

                if (window.Kakao && window.Kakao.isInitialized()) {
                    Kakao.Share.sendDefault({
                        objectType: 'feed',
                        content: {
                            title: 'ì˜¤ëŠ˜ì˜ ìš´ì„¸',
                            description: text,
                            imageUrl: 'https://doha.kr/images/og-default.png',
                            link: {
                                mobileWebUrl: url,
                                webUrl: url
                            }
                        }
                    });
                } else {

                    navigator.clipboard.writeText(url).then(() => {
                        alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                    });
                }
            }
        }

        const FIVE_ELEMENTS = {
            'ê°‘': 'ëª©', 'ì„': 'ëª©',
            'ë³‘': 'í™”', 'ì •': 'í™”',
            'ë¬´': 'í† ', 'ê¸°': 'í† ',
            'ê²½': 'ê¸ˆ', 'ì‹ ': 'ê¸ˆ',
            'ì„': 'ìˆ˜', 'ê³„': 'ìˆ˜'
        };
    </script>

        function getTodayPillarFromManseryeok() {
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth() + 1;
            const day = today.getDate();

            if (window.getManseryeokData) {
                const data = window.getManseryeokData(year, month, day);
                if (data) {
                    return {
                        stem: data.dayGanji.charAt(0),
                        branch: data.dayGanji.charAt(1)
                    };
                }
            }

            const totalDays = Math.floor(today.getTime() / (1000 * 60 * 60 * 24));
            const ganjiIndex = totalDays % 60;
            const stems = ["ê°‘", "ì„", "ë³‘", "ì •", "ë¬´", "ê¸°", "ê²½", "ì‹ ", "ì„", "ê³„"];
            const branches = ["ì", "ì¶•", "ì¸", "ë¬˜", "ì§„", "ì‚¬", "ì˜¤", "ë¯¸", "ì‹ ", "ìœ ", "ìˆ ", "í•´"];
            
            return {
                stem: stems[ganjiIndex % 10],
                branch: branches[ganjiIndex % 12]
            };
        }
    <!-- Kakao SDK -->
<script>

        if (window.API_CONFIG && window.API_CONFIG.KAKAO_JS_KEY) {
    if (window.Kakao && !window.Kakao.isInitialized()) {
        Kakao.init(window.API_CONFIG.KAKAO_JS_KEY);
    }
}
    </script>
<!-- AdSense initialization -->
<!-- Non-critical scripts moved here for performance -->
<!-- Google AdSense ì§€ì—° ë¡œë”© -->
<script>

window.addEventListener('load', function() {
    setTimeout(function() {
        var adsScript = document.createElement('script');
        adsScript.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7905640648499222';
        adsScript.crossOrigin = 'anonymous';
        adsScript.defer = true;
        document.head.appendChild(adsScript);
    }, 2000);
});
</script>
<script>

window.adsenseInitialized = window.adsenseInitialized || false;

function initializeAdSense() {
    if (window.adsenseInitialized) {
        console.log('AdSense already initialized');
        return;
    }
    
    window.adsenseInitialized = true;

    const adBlocks = document.querySelectorAll('.adsbygoogle');
    adBlocks.forEach((ad, index) => {
        if (!ad.dataset.adsbygoogleStatus) {
            try {
                (adsbygoogle = window.adsbygoogle || []).push({});
                console.log('AdSense block initialized:', index);
            } catch (error) {
                console.warn('AdSense initialization error:', error);
            }
        }
    });
}

window.addEventListener('load', function() {
    setTimeout(initializeAdSense, 1000);
});
</script>
<script>

(function() {
    'use strict';

    window.__adsenseLoaded = window.__adsenseLoaded || false;
    window.__adsenseQueue = window.__adsenseQueue || [];
    
    function initAdsense() {
        if (window.__adsenseLoaded) return;
        
        const ads = document.querySelectorAll('.adsbygoogle:not([data-adsbygoogle-status])');
        
        if (ads.length === 0) return;

        if (typeof adsbygoogle === 'undefined') {
            setTimeout(initAdsense, 500);
            return;
        }
        
        window.__adsenseLoaded = true;

        ads.forEach((ad, index) => {
            try {

                if (ad.getAttribute('data-adsbygoogle-status')) return;

                (adsbygoogle = window.adsbygoogle || []).push({});

                ad.setAttribute('data-adsbygoogle-status', 'done');
                
            } catch (e) {
                console.warn('AdSense ì´ˆê¸°í™” ì‹¤íŒ¨:', index, e.message);
            }
        });
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initAdsense, 1000);
        });
    } else {
        setTimeout(initAdsense, 1000);
    }

    window.addEventListener('error', function(e) {
        if (e.message && e.message.includes('adsbygoogle.push() error')) {
            e.preventDefault();
            console.warn('AdSense ì¤‘ë³µ ì´ˆê¸°í™” ë°©ì§€ë¨');
            return false;
        }
    }, true);
})();
</script>
<!-- AdSense í†µí•© ì´ˆê¸°í™” -->
<script>
(function() {
    'use strict';

    window.__adsInitialized = false;

    function initializeAds() {
        if (window.__adsInitialized) return;
        
        const ads = document.querySelectorAll('.adsbygoogle:not([data-adsbygoogle-status])');
        if (ads.length === 0) return;

        if (typeof adsbygoogle === 'undefined') {
            setTimeout(initializeAds, 100);
            return;
        }
        
        window.__adsInitialized = true;

        ads.forEach((ad) => {
            try {
                (adsbygoogle = window.adsbygoogle || []).push({});
                ad.setAttribute('data-adsbygoogle-status', 'done');
            } catch (e) {

            }
        });
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initializeAds, 500);
        });
    } else {
        setTimeout(initializeAds, 500);
    }

    window.addEventListener('error', function(e) {
        if (e.message && e.message.includes('adsbygoogle.push() error')) {
            e.preventDefault();
            e.stopPropagation();
            return false;
        }
    }, true);
})();
</script>
<script>
// ë„¤ë¹„ê²Œì´ì…˜ ë° í‘¸í„° ë¡œë“œ - main.jsì˜ loadComponentsê°€ ì‹¤í–‰ë˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ìœ„í•œ í´ë°±
document.addEventListener('DOMContentLoaded', function() {
    // main.jsê°€ ë¡œë“œë˜ì—ˆê³  loadComponents í•¨ìˆ˜ê°€ ìˆëŠ”ì§€ í™•ì¸
    if (typeof loadComponents === 'function') {
        // main.jsì˜ DOMContentLoadedê°€ ì´ë¯¸ ì‹¤í–‰ë˜ì—ˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ 
        // navbar-placeholderê°€ ë¹„ì–´ìˆìœ¼ë©´ ë‹¤ì‹œ ì‹¤í–‰
        const navPlaceholder = document.getElementById('navbar-placeholder');
        const footerPlaceholder = document.getElementById('footer-placeholder');
        
        if ((navPlaceholder && !navPlaceholder.innerHTML.trim()) || 
            (footerPlaceholder && !footerPlaceholder.innerHTML.trim())) {
            console.log('Loading components...');
            loadComponents().catch(function(error) {
                console.error('Failed to load components:', error);
            });
        }
    }
});
</script>
</body>
</body></html>