<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>테토-에겐 성격 유형 테스트</title>
    
    <!-- Google AdSense 헤드 태그 (사용자 게시자 ID 적용) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7905640648499222" crossorigin="anonymous"></script>
    
    <!-- 사이트 확인용 메타 태그 -->
    <meta name="google-adsense-account" content="ca-pub-7905640648499222">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: #333;
            font-weight: 600;
            line-height: 1.4;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            line-height: 1.4;
        }

        .option:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateY(-2px);
        }

        .option.selected {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border-color: transparent;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .result-container {
            text-align: center;
            padding: 40px 30px;
        }

        .result-type {
            font-size: 3em;
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .result-description {
            font-size: 1.2em;
            line-height: 1.6;
            color: #333;
            margin-bottom: 30px;
        }

        .result-traits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .trait-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #ff6b6b;
        }

        .trait-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .trait-desc {
            color: #666;
            font-size: 0.95em;
        }

        .compatibility {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .restart-btn {
            margin-top: 30px;
        }

        .hidden {
            display: none;
        }

        /* 애드센스 광고 스타일 */
        .ad-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .ad-label {
            font-size: 0.8em;
            color: #6c757d;
            margin-bottom: 10px;
        }

        .header-ad {
            margin: 20px 0;
        }

        .result-ad {
            margin: 20px 0;
            background: white;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🧬 테토-에겐 성격 유형 테스트</h1>
            <p>나는 테토형일까? 에겐형일까?</p>
        </div>

        <div class="content">
            <!-- 헤더 광고 -->
            <div class="ad-container header-ad">
                <div class="ad-label">광고</div>
                <!-- 배너 광고 (728x90 또는 320x50) -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-7905640648499222"
                     data-ad-slot="1234567890"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            </div>

            <!-- 테스트 화면 -->
            <div id="test-screen">
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
                
                <div class="question-container">
                    <div class="question" id="question"></div>
                    <div class="options" id="options"></div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" id="prev-btn" onclick="previousQuestion()">이전</button>
                    <button class="btn btn-primary" id="next-btn" onclick="nextQuestion()">다음</button>
                </div>
            </div>

            <!-- 결과 화면 -->
            <div id="result-screen" class="result-container hidden">
                <div class="result-type" id="result-type"></div>
                <div class="result-description" id="result-description"></div>
                
                <!-- 결과 중간 광고 -->
                <div class="ad-container result-ad">
                    <div class="ad-label">광고</div>
                    <!-- 정사각형 광고 (300x250) -->
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-7905640648499222"
                         data-ad-slot="2345678901"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                </div>
                
                <div class="result-traits" id="result-traits"></div>
                
                <div class="compatibility" id="compatibility"></div>
                
                <!-- 하단 광고 -->
                <div class="ad-container">
                    <div class="ad-label">광고</div>
                    <!-- 배너 광고 (728x90 또는 320x50) -->
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-7905640648499222"
                         data-ad-slot="3456789012"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                </div>
                
                <button class="btn btn-primary restart-btn" onclick="restartTest()">다시 테스트하기</button>
            </div>
        </div>
    </div>

    <!-- 하단 링크 추가 -->
    <footer style="text-align: center; padding: 20px; background: #f8f9fa; margin-top: 50px;">
        <div style="max-width: 600px; margin: 0 auto;">
            <p style="margin: 10px 0;"><a href="privacy.html" style="color: #666; text-decoration: none;">개인정보처리방침</a> | 
               <a href="terms.html" style="color: #666; text-decoration: none;">이용약관</a> | 
               <a href="contact.html" style="color: #666; text-decoration: none;">문의하기</a></p>
            <p style="color: #999; font-size: 0.9em;">© 2025 테토-에겐 성격 유형 테스트. 재미로만 즐겨주세요!</p>
        </div>
    </footer>

    <script>
        // 테스트 데이터 (검색 결과 기반 정확한 정보)
        const testQuestions = [
            {
                question: "친구들 사이에서 나는?",
                options: [
                    { text: "어딜 가나 중심이 되는 편", type: "teto" },
                    { text: "조용히 따라다니는 편", type: "egen" }
                ]
            },
            {
                question: "갈등이 생겼을 때 나의 대처방식은?",
                options: [
                    { text: "피하지 않고 정면으로 해결한다", type: "teto" },
                    { text: "감정을 숨기고 간접적으로 표현한다", type: "egen" }
                ]
            },
            {
                question: "내가 추구하는 연애는?",
                options: [
                    { text: "자유롭고 쿨한 관계", type: "teto" },
                    { text: "서로 의지하고 챙겨주는 관계", type: "egen" }
                ]
            },
            {
                question: "나의 의사표현 방식은?",
                options: [
                    { text: "솔직하고 직설적으로 표현한다", type: "teto" },
                    { text: "우회적이고 부드럽게 표현한다", type: "egen" }
                ]
            },
            {
                question: "모임에서 나의 역할은?",
                options: [
                    { text: "주도적으로 분위기를 이끈다", type: "teto" },
                    { text: "공기의 흐름을 읽고 조화를 맞춘다", type: "egen" }
                ]
            },
            {
                question: "나의 스타일 선호도는?",
                options: [
                    { text: "자유롭고 힙한 스타일", type: "teto" },
                    { text: "단정하고 깔끔한 스타일", type: "egen" }
                ]
            },
            {
                question: "문제 해결 방식은?",
                options: [
                    { text: "당당하고 거침없이 돌파한다", type: "teto" },
                    { text: "차분하게 상황을 정리한다", type: "egen" }
                ]
            },
            {
                question: "감정 표현에 대한 나의 성향은?",
                options: [
                    { text: "감정을 숨기지 않고 솔직하게 표현", type: "teto" },
                    { text: "감정에 민감하고 섬세하게 표현", type: "egen" }
                ]
            },
            {
                question: "리더십에 대한 나의 생각은?",
                options: [
                    { text: "적극적으로 리더 역할을 맡는다", type: "teto" },
                    { text: "뒤에서 조용히 서포트한다", type: "egen" }
                ]
            },
            {
                question: "새로운 환경에서 나는?",
                options: [
                    { text: "적극적으로 나서서 적응한다", type: "teto" },
                    { text: "눈치를 보며 조심스럽게 적응한다", type: "egen" }
                ]
            }
        ];

        // 결과 데이터 (검색 결과 기반)
        const resultTypes = {
            "teto_male": {
                type: "테토남 💪",
                description: "테스토스테론의 특성이 강하게 드러나는 남성형! 리더십이 있고 직설적이며 주도적인 성격의 소유자입니다.",
                traits: [
                    { title: "리더십", desc: "자연스럽게 그룹을 이끌어가는 능력" },
                    { title: "직설적", desc: "솔직하고 명확한 의사표현" },
                    { title: "주도적", desc: "적극적으로 상황을 이끌어감" },
                    { title: "당당함", desc: "거침없는 태도와 자신감" }
                ],
                compatibility: "💕 최고의 궁합: 에겐녀 - 서로 다른 매력에 끌리며 완벽한 균형을 이룹니다!"
            },
            "teto_female": {
                type: "테토녀 🔥",
                description: "솔직하고 주도적인 성격의 여성형! 감정을 숨기지 않고 직설적으로 표현하며 갈등을 정면 돌파하는 스타일입니다.",
                traits: [
                    { title: "솔직함", desc: "감정을 숨기지 않는 직설적 표현" },
                    { title: "주도적", desc: "상황을 적극적으로 이끌어감" },
                    { title: "정면돌파", desc: "갈등을 피하지 않고 해결" },
                    { title: "자유로움", desc: "힙하고 자유분방한 스타일" }
                ],
                compatibility: "💕 최고의 궁합: 에겐남 - 차분하고 섬세한 매력에 끌리며 서로를 보완합니다!"
            },
            "egen_male": {
                type: "에겐남 🌸",
                description: "에스트로겐의 특성이 강한 남성형! 다정하고 섬세하며 감정에 민감한 따뜻한 성격의 소유자입니다.",
                traits: [
                    { title: "다정함", desc: "상대의 기분에 맞춰주는 따뜻함" },
                    { title: "섬세함", desc: "세심하고 배려깊은 매너" },
                    { title: "감정 민감", desc: "감정의 흐름을 잘 읽어냄" },
                    { title: "조화 추구", desc: "갈등보다는 평화를 중시" }
                ],
                compatibility: "💕 최고의 궁합: 테토녀 - 당당하고 주도적인 매력에 끌리며 완벽한 케미를 만듭니다!"
            },
            "egen_female": {
                type: "에겐녀 🦋",
                description: "부드럽고 감성적인 정서 중심의 여성형! 감정의 흐름과 공감, 안정감을 중요시하는 우아한 성격입니다.",
                traits: [
                    { title: "감성적", desc: "감정의 흐름과 공감 중시" },
                    { title: "눈치 빠름", desc: "공기의 흐름을 잘 읽어냄" },
                    { title: "우회적", desc: "부드럽고 간접적인 의사표현" },
                    { title: "단아함", desc: "깔끔하고 정돈된 이미지 추구" }
                ],
                compatibility: "💕 최고의 궁합: 테토남 - 리더십있고 당당한 매력에 끌리며 이상적인 밸런스를 이룹니다!"
            }
        };

        // 테스트 상태 관리
        let currentQuestion = 0;
        let answers = [];
        let genderSelected = false;
        let userGender = '';

        // 초기화
        function initTest() {
            currentQuestion = 0;
            answers = [];
            genderSelected = false;
            userGender = '';
            showGenderSelection();
        }

        // 성별 선택 화면
        function showGenderSelection() {
            document.getElementById('question').innerHTML = '당신의 성별을 선택해주세요';
            document.getElementById('options').innerHTML = `
                <div class="option" onclick="selectGender('male')">남성 👨</div>
                <div class="option" onclick="selectGender('female')">여성 👩</div>
            `;
            document.getElementById('prev-btn').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            updateProgress();
        }

        // 성별 선택
        function selectGender(gender) {
            userGender = gender;
            genderSelected = true;
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            event.target.classList.add('selected');
            
            setTimeout(() => {
                showQuestion();
            }, 500);
        }

        // 질문 표시
        function showQuestion() {
            if (!genderSelected) return;

            const question = testQuestions[currentQuestion];
            document.getElementById('question').innerHTML = `${currentQuestion + 1}. ${question.question}`;
            
            const optionsHtml = question.options.map((option, index) => 
                `<div class="option" onclick="selectAnswer(${index})">${option.text}</div>`
            ).join('');
            
            document.getElementById('options').innerHTML = optionsHtml;
            
            // 이전 답변이 있다면 선택 상태 복원
            if (answers[currentQuestion] !== undefined) {
                document.querySelectorAll('.option')[answers[currentQuestion]].classList.add('selected');
            }
            
            document.getElementById('prev-btn').style.display = currentQuestion > 0 ? 'block' : 'none';
            document.getElementById('next-btn').style.display = 'block';
            
            updateProgress();
        }

        // 답변 선택
        function selectAnswer(optionIndex) {
            answers[currentQuestion] = optionIndex;
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            event.target.classList.add('selected');
        }

        // 다음 질문
        function nextQuestion() {
            if (!genderSelected && userGender === '') {
                alert('성별을 선택해주세요!');
                return;
            }

            if (answers[currentQuestion] === undefined) {
                alert('답변을 선택해주세요!');
                return;
            }

            if (currentQuestion < testQuestions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                showResult();
            }
        }

        // 이전 질문
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        // 진행률 업데이트
        function updateProgress() {
            const totalSteps = testQuestions.length + 1; // 성별 선택 포함
            const currentStep = genderSelected ? currentQuestion + 2 : 1;
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        // 결과 계산 및 표시
        function showResult() {
            const tetoCount = answers.reduce((count, answerIndex, questionIndex) => {
                return testQuestions[questionIndex].options[answerIndex].type === 'teto' ? count + 1 : count;
            }, 0);

            const egenCount = answers.length - tetoCount;
            const dominantType = tetoCount > egenCount ? 'teto' : 'egen';
            const resultKey = `${dominantType}_${userGender}`;
            const result = resultTypes[resultKey];

            // 화면 전환
            document.getElementById('test-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            // 결과 표시
            document.getElementById('result-type').textContent = result.type;
            document.getElementById('result-description').textContent = result.description;

            // 특성 카드 생성
            const traitsHtml = result.traits.map(trait => 
                `<div class="trait-card">
                    <div class="trait-title">${trait.title}</div>
                    <div class="trait-desc">${trait.desc}</div>
                </div>`
            ).join('');
            document.getElementById('result-traits').innerHTML = traitsHtml;

            // 궁합 정보
            document.getElementById('compatibility').innerHTML = `
                <h3>💖 연애 궁합</h3>
                <p>${result.compatibility}</p>
            `;

            // 결과 화면 광고 로드
            setTimeout(loadAds, 500);
        }

        // 테스트 재시작
        function restartTest() {
            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('test-screen').classList.remove('hidden');
            initTest();
        }

        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', function() {
            initTest();
            
            // 애드센스 광고 로드
            try {
                (adsbygoogle = window.adsbygoogle || []).push({});
            } catch (e) {
                console.log('AdSense not loaded yet');
            }
        });

        // 애드센스 광고 활성화 함수
        function loadAds() {
            try {
                // 모든 광고 슬롯 활성화
                const ads = document.querySelectorAll('.adsbygoogle');
                ads.forEach(ad => {
                    if (!ad.innerHTML) {
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    }
                });
            } catch (e) {
                console.log('AdSense loading error:', e);
            }
        }
    </script>
</body>
</html>
