<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í…Œí† -ì—ê² ì„±ê²© ìœ í˜• í…ŒìŠ¤íŠ¸</title>
    
    <!-- Google AdSense í—¤ë“œ íƒœê·¸ (ì‚¬ìš©ì ê²Œì‹œì ID ì ìš©) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7905640648499222" crossorigin="anonymous"></script>
    
    <!-- ì‚¬ì´íŠ¸ í™•ì¸ìš© ë©”íƒ€ íƒœê·¸ -->
    <meta name="google-adsense-account" content="ca-pub-7905640648499222">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: #333;
            font-weight: 600;
            line-height: 1.4;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            line-height: 1.4;
        }

        .option:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateY(-2px);
        }

        .option.selected {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border-color: transparent;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .result-container {
            text-align: center;
            padding: 40px 30px;
        }

        .result-type {
            font-size: 3em;
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .result-description {
            font-size: 1.2em;
            line-height: 1.6;
            color: #333;
            margin-bottom: 30px;
        }

        .result-traits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .trait-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #ff6b6b;
        }

        .trait-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .trait-desc {
            color: #666;
            font-size: 0.95em;
        }

        .compatibility {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .restart-btn {
            margin-top: 30px;
        }

        .hidden {
            display: none;
        }

        /* ì• ë“œì„¼ìŠ¤ ê´‘ê³  ìŠ¤íƒ€ì¼ */
        .ad-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .ad-label {
            font-size: 0.8em;
            color: #6c757d;
            margin-bottom: 10px;
        }

        .header-ad {
            margin: 20px 0;
        }

        .result-ad {
            margin: 20px 0;
            background: white;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§¬ í…Œí† -ì—ê² ì„±ê²© ìœ í˜• í…ŒìŠ¤íŠ¸</h1>
            <p>ë‚˜ëŠ” í…Œí† í˜•ì¼ê¹Œ? ì—ê²í˜•ì¼ê¹Œ?</p>
        </div>

        <div class="content">
            <!-- í—¤ë” ê´‘ê³  -->
            <div class="ad-container header-ad">
                <div class="ad-label">ê´‘ê³ </div>
                <!-- ë°°ë„ˆ ê´‘ê³  (728x90 ë˜ëŠ” 320x50) -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-7905640648499222"
                     data-ad-slot="1234567890"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            </div>

            <!-- í…ŒìŠ¤íŠ¸ í™”ë©´ -->
            <div id="test-screen">
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
                
                <div class="question-container">
                    <div class="question" id="question"></div>
                    <div class="options" id="options"></div>
                </div>

                <div class="navigation">
                    <button class="btn btn-secondary" id="prev-btn" onclick="previousQuestion()">ì´ì „</button>
                    <button class="btn btn-primary" id="next-btn" onclick="nextQuestion()">ë‹¤ìŒ</button>
                </div>
            </div>

            <!-- ê²°ê³¼ í™”ë©´ -->
            <div id="result-screen" class="result-container hidden">
                <div class="result-type" id="result-type"></div>
                <div class="result-description" id="result-description"></div>
                
                <!-- ê²°ê³¼ ì¤‘ê°„ ê´‘ê³  -->
                <div class="ad-container result-ad">
                    <div class="ad-label">ê´‘ê³ </div>
                    <!-- ì •ì‚¬ê°í˜• ê´‘ê³  (300x250) -->
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-7905640648499222"
                         data-ad-slot="2345678901"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                </div>
                
                <div class="result-traits" id="result-traits"></div>
                
                <div class="compatibility" id="compatibility"></div>
                
                <!-- í•˜ë‹¨ ê´‘ê³  -->
                <div class="ad-container">
                    <div class="ad-label">ê´‘ê³ </div>
                    <!-- ë°°ë„ˆ ê´‘ê³  (728x90 ë˜ëŠ” 320x50) -->
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-7905640648499222"
                         data-ad-slot="3456789012"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                </div>
                
                <button class="btn btn-primary restart-btn" onclick="restartTest()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <!-- í•˜ë‹¨ ë§í¬ ì¶”ê°€ -->
    <footer style="text-align: center; padding: 20px; background: #f8f9fa; margin-top: 50px;">
        <div style="max-width: 600px; margin: 0 auto;">
            <p style="margin: 10px 0;"><a href="privacy.html" style="color: #666; text-decoration: none;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a> | 
               <a href="terms.html" style="color: #666; text-decoration: none;">ì´ìš©ì•½ê´€</a> | 
               <a href="contact.html" style="color: #666; text-decoration: none;">ë¬¸ì˜í•˜ê¸°</a></p>
            <p style="color: #999; font-size: 0.9em;">Â© 2025 í…Œí† -ì—ê² ì„±ê²© ìœ í˜• í…ŒìŠ¤íŠ¸. ì¬ë¯¸ë¡œë§Œ ì¦ê²¨ì£¼ì„¸ìš”!</p>
        </div>
    </footer>

    <script>
        // í…ŒìŠ¤íŠ¸ ë°ì´í„° (ê²€ìƒ‰ ê²°ê³¼ ê¸°ë°˜ ì •í™•í•œ ì •ë³´)
        const testQuestions = [
            {
                question: "ì¹œêµ¬ë“¤ ì‚¬ì´ì—ì„œ ë‚˜ëŠ”?",
                options: [
                    { text: "ì–´ë”œ ê°€ë‚˜ ì¤‘ì‹¬ì´ ë˜ëŠ” í¸", type: "teto" },
                    { text: "ì¡°ìš©íˆ ë”°ë¼ë‹¤ë‹ˆëŠ” í¸", type: "egen" }
                ]
            },
            {
                question: "ê°ˆë“±ì´ ìƒê²¼ì„ ë•Œ ë‚˜ì˜ ëŒ€ì²˜ë°©ì‹ì€?",
                options: [
                    { text: "í”¼í•˜ì§€ ì•Šê³  ì •ë©´ìœ¼ë¡œ í•´ê²°í•œë‹¤", type: "teto" },
                    { text: "ê°ì •ì„ ìˆ¨ê¸°ê³  ê°„ì ‘ì ìœ¼ë¡œ í‘œí˜„í•œë‹¤", type: "egen" }
                ]
            },
            {
                question: "ë‚´ê°€ ì¶”êµ¬í•˜ëŠ” ì—°ì• ëŠ”?",
                options: [
                    { text: "ììœ ë¡­ê³  ì¿¨í•œ ê´€ê³„", type: "teto" },
                    { text: "ì„œë¡œ ì˜ì§€í•˜ê³  ì±™ê²¨ì£¼ëŠ” ê´€ê³„", type: "egen" }
                ]
            },
            {
                question: "ë‚˜ì˜ ì˜ì‚¬í‘œí˜„ ë°©ì‹ì€?",
                options: [
                    { text: "ì†”ì§í•˜ê³  ì§ì„¤ì ìœ¼ë¡œ í‘œí˜„í•œë‹¤", type: "teto" },
                    { text: "ìš°íšŒì ì´ê³  ë¶€ë“œëŸ½ê²Œ í‘œí˜„í•œë‹¤", type: "egen" }
                ]
            },
            {
                question: "ëª¨ì„ì—ì„œ ë‚˜ì˜ ì—­í• ì€?",
                options: [
                    { text: "ì£¼ë„ì ìœ¼ë¡œ ë¶„ìœ„ê¸°ë¥¼ ì´ëˆë‹¤", type: "teto" },
                    { text: "ê³µê¸°ì˜ íë¦„ì„ ì½ê³  ì¡°í™”ë¥¼ ë§ì¶˜ë‹¤", type: "egen" }
                ]
            },
            {
                question: "ë‚˜ì˜ ìŠ¤íƒ€ì¼ ì„ í˜¸ë„ëŠ”?",
                options: [
                    { text: "ììœ ë¡­ê³  í™í•œ ìŠ¤íƒ€ì¼", type: "teto" },
                    { text: "ë‹¨ì •í•˜ê³  ê¹”ë”í•œ ìŠ¤íƒ€ì¼", type: "egen" }
                ]
            },
            {
                question: "ë¬¸ì œ í•´ê²° ë°©ì‹ì€?",
                options: [
                    { text: "ë‹¹ë‹¹í•˜ê³  ê±°ì¹¨ì—†ì´ ëŒíŒŒí•œë‹¤", type: "teto" },
                    { text: "ì°¨ë¶„í•˜ê²Œ ìƒí™©ì„ ì •ë¦¬í•œë‹¤", type: "egen" }
                ]
            },
            {
                question: "ê°ì • í‘œí˜„ì— ëŒ€í•œ ë‚˜ì˜ ì„±í–¥ì€?",
                options: [
                    { text: "ê°ì •ì„ ìˆ¨ê¸°ì§€ ì•Šê³  ì†”ì§í•˜ê²Œ í‘œí˜„", type: "teto" },
                    { text: "ê°ì •ì— ë¯¼ê°í•˜ê³  ì„¬ì„¸í•˜ê²Œ í‘œí˜„", type: "egen" }
                ]
            },
            {
                question: "ë¦¬ë”ì‹­ì— ëŒ€í•œ ë‚˜ì˜ ìƒê°ì€?",
                options: [
                    { text: "ì ê·¹ì ìœ¼ë¡œ ë¦¬ë” ì—­í• ì„ ë§¡ëŠ”ë‹¤", type: "teto" },
                    { text: "ë’¤ì—ì„œ ì¡°ìš©íˆ ì„œí¬íŠ¸í•œë‹¤", type: "egen" }
                ]
            },
            {
                question: "ìƒˆë¡œìš´ í™˜ê²½ì—ì„œ ë‚˜ëŠ”?",
                options: [
                    { text: "ì ê·¹ì ìœ¼ë¡œ ë‚˜ì„œì„œ ì ì‘í•œë‹¤", type: "teto" },
                    { text: "ëˆˆì¹˜ë¥¼ ë³´ë©° ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ì ì‘í•œë‹¤", type: "egen" }
                ]
            }
        ];

        // ê²°ê³¼ ë°ì´í„° (ê²€ìƒ‰ ê²°ê³¼ ê¸°ë°˜)
        const resultTypes = {
            "teto_male": {
                type: "í…Œí† ë‚¨ ğŸ’ª",
                description: "í…ŒìŠ¤í† ìŠ¤í…Œë¡ ì˜ íŠ¹ì„±ì´ ê°•í•˜ê²Œ ë“œëŸ¬ë‚˜ëŠ” ë‚¨ì„±í˜•! ë¦¬ë”ì‹­ì´ ìˆê³  ì§ì„¤ì ì´ë©° ì£¼ë„ì ì¸ ì„±ê²©ì˜ ì†Œìœ ìì…ë‹ˆë‹¤.",
                traits: [
                    { title: "ë¦¬ë”ì‹­", desc: "ìì—°ìŠ¤ëŸ½ê²Œ ê·¸ë£¹ì„ ì´ëŒì–´ê°€ëŠ” ëŠ¥ë ¥" },
                    { title: "ì§ì„¤ì ", desc: "ì†”ì§í•˜ê³  ëª…í™•í•œ ì˜ì‚¬í‘œí˜„" },
                    { title: "ì£¼ë„ì ", desc: "ì ê·¹ì ìœ¼ë¡œ ìƒí™©ì„ ì´ëŒì–´ê°" },
                    { title: "ë‹¹ë‹¹í•¨", desc: "ê±°ì¹¨ì—†ëŠ” íƒœë„ì™€ ìì‹ ê°" }
                ],
                compatibility: "ğŸ’• ìµœê³ ì˜ ê¶í•©: ì—ê²ë…€ - ì„œë¡œ ë‹¤ë¥¸ ë§¤ë ¥ì— ëŒë¦¬ë©° ì™„ë²½í•œ ê· í˜•ì„ ì´ë£¹ë‹ˆë‹¤!"
            },
            "teto_female": {
                type: "í…Œí† ë…€ ğŸ”¥",
                description: "ì†”ì§í•˜ê³  ì£¼ë„ì ì¸ ì„±ê²©ì˜ ì—¬ì„±í˜•! ê°ì •ì„ ìˆ¨ê¸°ì§€ ì•Šê³  ì§ì„¤ì ìœ¼ë¡œ í‘œí˜„í•˜ë©° ê°ˆë“±ì„ ì •ë©´ ëŒíŒŒí•˜ëŠ” ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.",
                traits: [
                    { title: "ì†”ì§í•¨", desc: "ê°ì •ì„ ìˆ¨ê¸°ì§€ ì•ŠëŠ” ì§ì„¤ì  í‘œí˜„" },
                    { title: "ì£¼ë„ì ", desc: "ìƒí™©ì„ ì ê·¹ì ìœ¼ë¡œ ì´ëŒì–´ê°" },
                    { title: "ì •ë©´ëŒíŒŒ", desc: "ê°ˆë“±ì„ í”¼í•˜ì§€ ì•Šê³  í•´ê²°" },
                    { title: "ììœ ë¡œì›€", desc: "í™í•˜ê³  ììœ ë¶„ë°©í•œ ìŠ¤íƒ€ì¼" }
                ],
                compatibility: "ğŸ’• ìµœê³ ì˜ ê¶í•©: ì—ê²ë‚¨ - ì°¨ë¶„í•˜ê³  ì„¬ì„¸í•œ ë§¤ë ¥ì— ëŒë¦¬ë©° ì„œë¡œë¥¼ ë³´ì™„í•©ë‹ˆë‹¤!"
            },
            "egen_male": {
                type: "ì—ê²ë‚¨ ğŸŒ¸",
                description: "ì—ìŠ¤íŠ¸ë¡œê²ì˜ íŠ¹ì„±ì´ ê°•í•œ ë‚¨ì„±í˜•! ë‹¤ì •í•˜ê³  ì„¬ì„¸í•˜ë©° ê°ì •ì— ë¯¼ê°í•œ ë”°ëœ»í•œ ì„±ê²©ì˜ ì†Œìœ ìì…ë‹ˆë‹¤.",
                traits: [
                    { title: "ë‹¤ì •í•¨", desc: "ìƒëŒ€ì˜ ê¸°ë¶„ì— ë§ì¶°ì£¼ëŠ” ë”°ëœ»í•¨" },
                    { title: "ì„¬ì„¸í•¨", desc: "ì„¸ì‹¬í•˜ê³  ë°°ë ¤ê¹Šì€ ë§¤ë„ˆ" },
                    { title: "ê°ì • ë¯¼ê°", desc: "ê°ì •ì˜ íë¦„ì„ ì˜ ì½ì–´ëƒ„" },
                    { title: "ì¡°í™” ì¶”êµ¬", desc: "ê°ˆë“±ë³´ë‹¤ëŠ” í‰í™”ë¥¼ ì¤‘ì‹œ" }
                ],
                compatibility: "ğŸ’• ìµœê³ ì˜ ê¶í•©: í…Œí† ë…€ - ë‹¹ë‹¹í•˜ê³  ì£¼ë„ì ì¸ ë§¤ë ¥ì— ëŒë¦¬ë©° ì™„ë²½í•œ ì¼€ë¯¸ë¥¼ ë§Œë“­ë‹ˆë‹¤!"
            },
            "egen_female": {
                type: "ì—ê²ë…€ ğŸ¦‹",
                description: "ë¶€ë“œëŸ½ê³  ê°ì„±ì ì¸ ì •ì„œ ì¤‘ì‹¬ì˜ ì—¬ì„±í˜•! ê°ì •ì˜ íë¦„ê³¼ ê³µê°, ì•ˆì •ê°ì„ ì¤‘ìš”ì‹œí•˜ëŠ” ìš°ì•„í•œ ì„±ê²©ì…ë‹ˆë‹¤.",
                traits: [
                    { title: "ê°ì„±ì ", desc: "ê°ì •ì˜ íë¦„ê³¼ ê³µê° ì¤‘ì‹œ" },
                    { title: "ëˆˆì¹˜ ë¹ ë¦„", desc: "ê³µê¸°ì˜ íë¦„ì„ ì˜ ì½ì–´ëƒ„" },
                    { title: "ìš°íšŒì ", desc: "ë¶€ë“œëŸ½ê³  ê°„ì ‘ì ì¸ ì˜ì‚¬í‘œí˜„" },
                    { title: "ë‹¨ì•„í•¨", desc: "ê¹”ë”í•˜ê³  ì •ëˆëœ ì´ë¯¸ì§€ ì¶”êµ¬" }
                ],
                compatibility: "ğŸ’• ìµœê³ ì˜ ê¶í•©: í…Œí† ë‚¨ - ë¦¬ë”ì‹­ìˆê³  ë‹¹ë‹¹í•œ ë§¤ë ¥ì— ëŒë¦¬ë©° ì´ìƒì ì¸ ë°¸ëŸ°ìŠ¤ë¥¼ ì´ë£¹ë‹ˆë‹¤!"
            }
        };

        // í…ŒìŠ¤íŠ¸ ìƒíƒœ ê´€ë¦¬
        let currentQuestion = 0;
        let answers = [];
        let genderSelected = false;
        let userGender = '';

        // ì´ˆê¸°í™”
        function initTest() {
            currentQuestion = 0;
            answers = [];
            genderSelected = false;
            userGender = '';
            showGenderSelection();
        }

        // ì„±ë³„ ì„ íƒ í™”ë©´
        function showGenderSelection() {
            document.getElementById('question').innerHTML = 'ë‹¹ì‹ ì˜ ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”';
            document.getElementById('options').innerHTML = `
                <div class="option" onclick="selectGender('male')">ë‚¨ì„± ğŸ‘¨</div>
                <div class="option" onclick="selectGender('female')">ì—¬ì„± ğŸ‘©</div>
            `;
            document.getElementById('prev-btn').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            updateProgress();
        }

        // ì„±ë³„ ì„ íƒ
        function selectGender(gender) {
            userGender = gender;
            genderSelected = true;
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            event.target.classList.add('selected');
            
            setTimeout(() => {
                showQuestion();
            }, 500);
        }

        // ì§ˆë¬¸ í‘œì‹œ
        function showQuestion() {
            if (!genderSelected) return;

            const question = testQuestions[currentQuestion];
            document.getElementById('question').innerHTML = `${currentQuestion + 1}. ${question.question}`;
            
            const optionsHtml = question.options.map((option, index) => 
                `<div class="option" onclick="selectAnswer(${index})">${option.text}</div>`
            ).join('');
            
            document.getElementById('options').innerHTML = optionsHtml;
            
            // ì´ì „ ë‹µë³€ì´ ìˆë‹¤ë©´ ì„ íƒ ìƒíƒœ ë³µì›
            if (answers[currentQuestion] !== undefined) {
                document.querySelectorAll('.option')[answers[currentQuestion]].classList.add('selected');
            }
            
            document.getElementById('prev-btn').style.display = currentQuestion > 0 ? 'block' : 'none';
            document.getElementById('next-btn').style.display = 'block';
            
            updateProgress();
        }

        // ë‹µë³€ ì„ íƒ
        function selectAnswer(optionIndex) {
            answers[currentQuestion] = optionIndex;
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            event.target.classList.add('selected');
        }

        // ë‹¤ìŒ ì§ˆë¬¸
        function nextQuestion() {
            if (!genderSelected && userGender === '') {
                alert('ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }

            if (answers[currentQuestion] === undefined) {
                alert('ë‹µë³€ì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }

            if (currentQuestion < testQuestions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                showResult();
            }
        }

        // ì´ì „ ì§ˆë¬¸
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateProgress() {
            const totalSteps = testQuestions.length + 1; // ì„±ë³„ ì„ íƒ í¬í•¨
            const currentStep = genderSelected ? currentQuestion + 2 : 1;
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        // ê²°ê³¼ ê³„ì‚° ë° í‘œì‹œ
        function showResult() {
            const tetoCount = answers.reduce((count, answerIndex, questionIndex) => {
                return testQuestions[questionIndex].options[answerIndex].type === 'teto' ? count + 1 : count;
            }, 0);

            const egenCount = answers.length - tetoCount;
            const dominantType = tetoCount > egenCount ? 'teto' : 'egen';
            const resultKey = `${dominantType}_${userGender}`;
            const result = resultTypes[resultKey];

            // í™”ë©´ ì „í™˜
            document.getElementById('test-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('result-type').textContent = result.type;
            document.getElementById('result-description').textContent = result.description;

            // íŠ¹ì„± ì¹´ë“œ ìƒì„±
            const traitsHtml = result.traits.map(trait => 
                `<div class="trait-card">
                    <div class="trait-title">${trait.title}</div>
                    <div class="trait-desc">${trait.desc}</div>
                </div>`
            ).join('');
            document.getElementById('result-traits').innerHTML = traitsHtml;

            // ê¶í•© ì •ë³´
            document.getElementById('compatibility').innerHTML = `
                <h3>ğŸ’– ì—°ì•  ê¶í•©</h3>
                <p>${result.compatibility}</p>
            `;

            // ê²°ê³¼ í™”ë©´ ê´‘ê³  ë¡œë“œ
            setTimeout(loadAds, 500);
        }

        // í…ŒìŠ¤íŠ¸ ì¬ì‹œì‘
        function restartTest() {
            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('test-screen').classList.remove('hidden');
            initTest();
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            initTest();
            
            // ì• ë“œì„¼ìŠ¤ ê´‘ê³  ë¡œë“œ
            try {
                (adsbygoogle = window.adsbygoogle || []).push({});
            } catch (e) {
                console.log('AdSense not loaded yet');
            }
        });

        // ì• ë“œì„¼ìŠ¤ ê´‘ê³  í™œì„±í™” í•¨ìˆ˜
        function loadAds() {
            try {
                // ëª¨ë“  ê´‘ê³  ìŠ¬ë¡¯ í™œì„±í™”
                const ads = document.querySelectorAll('.adsbygoogle');
                ads.forEach(ad => {
                    if (!ad.innerHTML) {
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    }
                });
            } catch (e) {
                console.log('AdSense loading error:', e);
            }
        }
    </script>
</body>
</html>
