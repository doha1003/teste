/**
 * 만세력 데이터 - 사주 계산을 위한 천간지지 데이터
 * 
 * 이 파일은 사주팔자 계산에 필요한 만세력 데이터를 포함합니다.
 * - 60갑자 순환
 * - 천간(天干) 10개
 * - 지지(地支) 12개
 * - 절기 정보
 * - 월간지 계산 데이터
 */

// 천간 (天干) - 10개
export const CHEONGAN = {
    names: ['갑', '을', '병', '정', '무', '기', '경', '신', '임', '계'],
    hanja: ['甲', '乙', '丙', '丁', '戊', '己', '庚', '辛', '壬', '癸'],
    elements: ['목', '목', '화', '화', '토', '토', '금', '금', '수', '수'],
    yinyang: ['양', '음', '양', '음', '양', '음', '양', '음', '양', '음']
};

// 지지 (地支) - 12개
export const JIJI = {
    names: ['자', '축', '인', '묘', '진', '사', '오', '미', '신', '유', '술', '해'],
    hanja: ['子', '丑', '寅', '卯', '辰', '巳', '午', '未', '申', '酉', '戌', '亥'],
    animals: ['쥐', '소', '호랑이', '토끼', '용', '뱀', '말', '양', '원숭이', '닭', '개', '돼지'],
    elements: ['수', '토', '목', '목', '토', '화', '화', '토', '금', '금', '토', '수'],
    months: [11, 12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10], // 음력 월
    hours: [
        [23, 1], [1, 3], [3, 5], [5, 7], [7, 9], [9, 11],
        [11, 13], [13, 15], [15, 17], [17, 19], [19, 21], [21, 23]
    ]
};

// 60갑자 순환표
export const YUKSHIP_GAPJA = [
    '갑자', '을축', '병인', '정묘', '무진', '기사', '경오', '신미', '임신', '계유',
    '갑술', '을해', '병자', '정축', '무인', '기묘', '경진', '신사', '임오', '계미',
    '갑신', '을유', '병술', '정해', '무자', '기축', '경인', '신묘', '임진', '계사',
    '갑오', '을미', '병신', '정유', '무술', '기해', '경자', '신축', '임인', '계묘',
    '갑진', '을사', '병오', '정미', '무신', '기유', '경술', '신해', '임자', '계축',
    '갑인', '을묘', '병진', '정사', '무오', '기미', '경신', '신유', '임술', '계해'
];

// 24절기 정보
export const JEOLGI = {
    names: [
        '소한', '대한', '입춘', '우수', '경칩', '춘분',
        '청명', '곡우', '입하', '소만', '망종', '하지',
        '소서', '대서', '입추', '처서', '백로', '추분',
        '한로', '상강', '입동', '소설', '대설', '동지'
    ],
    solarDates: [ // 대략적인 양력 날짜 (매년 조금씩 다름)
        { month: 1, day: 6 }, { month: 1, day: 20 }, { month: 2, day: 4 }, { month: 2, day: 19 },
        { month: 3, day: 6 }, { month: 3, day: 21 }, { month: 4, day: 5 }, { month: 4, day: 20 },
        { month: 5, day: 6 }, { month: 5, day: 21 }, { month: 6, day: 6 }, { month: 6, day: 22 },
        { month: 7, day: 7 }, { month: 7, day: 23 }, { month: 8, day: 8 }, { month: 8, day: 23 },
        { month: 9, day: 8 }, { month: 9, day: 23 }, { month: 10, day: 8 }, { month: 10, day: 23 },
        { month: 11, day: 7 }, { month: 11, day: 22 }, { month: 12, day: 7 }, { month: 12, day: 22 }
    ]
};

// 년간지 계산 함수
export function getYearGapja(year) {
    // 기준년도: 1984년 = 갑자년 (60갑자의 시작)
    const baseYear = 1984;
    const diff = year - baseYear;
    let index = diff % 60;
    if (index < 0) index += 60;
    return YUKSHIP_GAPJA[index];
}

// 월간지 계산 함수
export function getMonthGapja(yearGan, month) {
    // 월간지 계산표 (년간에 따른 월간)
    const monthGanTable = {
        '갑': ['병인', '정묘', '무진', '기사', '경오', '신미', '임신', '계유', '갑술', '을해', '병자', '정축'],
        '기': ['병인', '정묘', '무진', '기사', '경오', '신미', '임신', '계유', '갑술', '을해', '병자', '정축'],
        '을': ['무인', '기묘', '경진', '신사', '임오', '계미', '갑신', '을유', '병술', '정해', '무자', '기축'],
        '경': ['무인', '기묘', '경진', '신사', '임오', '계미', '갑신', '을유', '병술', '정해', '무자', '기축'],
        '병': ['경인', '신묘', '임진', '계사', '갑오', '을미', '병신', '정유', '무술', '기해', '경자', '신축'],
        '신': ['경인', '신묘', '임진', '계사', '갑오', '을미', '병신', '정유', '무술', '기해', '경자', '신축'],
        '정': ['임인', '계묘', '갑진', '을사', '병오', '정미', '무신', '기유', '경술', '신해', '임자', '계축'],
        '임': ['임인', '계묘', '갑진', '을사', '병오', '정미', '무신', '기유', '경술', '신해', '임자', '계축'],
        '무': ['갑인', '을묘', '병진', '정사', '무오', '기미', '경신', '신유', '임술', '계해', '갑자', '을축'],
        '계': ['갑인', '을묘', '병진', '정사', '무오', '기미', '경신', '신유', '임술', '계해', '갑자', '을축']
    };
    
    return monthGanTable[yearGan][month - 1];
}

// 일간지 계산 함수
export function getDayGapja(year, month, day) {
    // 기준일: 2000년 1월 1일 = 무진일
    const baseDate = new Date(2000, 0, 1);
    const targetDate = new Date(year, month - 1, day);
    const diffDays = Math.floor((targetDate - baseDate) / (1000 * 60 * 60 * 24));
    
    const baseIndex = YUKSHIP_GAPJA.indexOf('무진');
    let index = (baseIndex + diffDays) % 60;
    if (index < 0) index += 60;
    
    return YUKSHIP_GAPJA[index];
}

// 시간지 계산 함수
export function getHourGapja(dayGan, hour) {
    // 시간지 계산표 (일간에 따른 시간)
    const hourGanTable = {
        '갑': ['갑자', '을축', '병인', '정묘', '무진', '기사', '경오', '신미', '임신', '계유', '갑술', '을해'],
        '기': ['갑자', '을축', '병인', '정묘', '무진', '기사', '경오', '신미', '임신', '계유', '갑술', '을해'],
        '을': ['병자', '정축', '무인', '기묘', '경진', '신사', '임오', '계미', '갑신', '을유', '병술', '정해'],
        '경': ['병자', '정축', '무인', '기묘', '경진', '신사', '임오', '계미', '갑신', '을유', '병술', '정해'],
        '병': ['무자', '기축', '경인', '신묘', '임진', '계사', '갑오', '을미', '병신', '정유', '무술', '기해'],
        '신': ['무자', '기축', '경인', '신묘', '임진', '계사', '갑오', '을미', '병신', '정유', '무술', '기해'],
        '정': ['경자', '신축', '임인', '계묘', '갑진', '을사', '병오', '정미', '무신', '기유', '경술', '신해'],
        '임': ['경자', '신축', '임인', '계묘', '갑진', '을사', '병오', '정미', '무신', '기유', '경술', '신해'],
        '무': ['임자', '계축', '갑인', '을묘', '병진', '정사', '무오', '기미', '경신', '신유', '임술', '계해'],
        '계': ['임자', '계축', '갑인', '을묘', '병진', '정사', '무오', '기미', '경신', '신유', '임술', '계해']
    };
    
    // 시간을 지지 인덱스로 변환
    let jijiIndex = 0;
    for (let i = 0; i < JIJI.hours.length; i++) {
        const [start, end] = JIJI.hours[i];
        if ((hour >= start && hour < end) || (start > end && (hour >= start || hour < end))) {
            jijiIndex = i;
            break;
        }
    }
    
    return hourGanTable[dayGan][jijiIndex];
}

// 오행 상생상극 관계
export const OHAENG_RELATIONS = {
    // 상생 (相生)
    sangSaeng: {
        '목': '화', // 목생화
        '화': '토', // 화생토
        '토': '금', // 토생금
        '금': '수', // 금생수
        '수': '목'  // 수생목
    },
    // 상극 (相剋)
    sangGeuk: {
        '목': '토', // 목극토
        '토': '수', // 토극수
        '수': '화', // 수극화
        '화': '금', // 화극금
        '금': '목'  // 금극목
    }
};

// 12운성 계산
export const TWELVE_FORTUNE = {
    names: ['장생', '목욕', '관대', '건록', '제왕', '쇠', '병', '사', '묘', '절', '태', '양'],
    descriptions: [
        '새로운 시작, 발전의 기운',
        '변화와 정화의 시기',
        '성장과 발전의 시기',
        '안정과 번영의 시기',
        '최고 전성기',
        '쇠퇴의 시작',
        '약화와 병약',
        '끝과 마무리',
        '잠재와 준비',
        '단절과 끊어짐',
        '잉태와 시작',
        '성장과 발달'
    ]
};

// 신살 (神殺) 정보
export const SHINSAL = {
    // 길신 (吉神)
    gilShin: {
        '천을귀인': '귀인의 도움',
        '천덕귀인': '하늘의 덕',
        '월덕귀인': '달의 은혜',
        '문창귀인': '학문과 지혜',
        '학당귀인': '학업 성취',
        '금여': '재물과 행운'
    },
    // 흉살 (凶殺)
    hyungSal: {
        '백호': '사고와 다툼',
        '천살': '하늘의 형벌',
        '지살': '땅의 재앙',
        '겁살': '도둑과 강탈',
        '망신살': '명예 실추',
        '역마살': '이동과 변화'
    }
};

// 사주 해석을 위한 기본 텍스트
export const SAJU_INTERPRETATIONS = {
    elements: {
        '목': {
            personality: '인자하고 온화하며, 성장하려는 의지가 강합니다.',
            career: '교육, 의료, 예술 분야에 적합합니다.',
            health: '간과 담낭에 주의가 필요합니다.'
        },
        '화': {
            personality: '열정적이고 활발하며, 리더십이 있습니다.',
            career: '연예, 홍보, 마케팅 분야에 적합합니다.',
            health: '심장과 혈액순환에 주의가 필요합니다.'
        },
        '토': {
            personality: '안정적이고 신뢰할 수 있으며, 포용력이 있습니다.',
            career: '부동산, 건설, 농업 분야에 적합합니다.',
            health: '소화기관에 주의가 필요합니다.'
        },
        '금': {
            personality: '정의롭고 결단력이 있으며, 원칙적입니다.',
            career: '법조계, 금융, 군인 분야에 적합합니다.',
            health: '폐와 호흡기에 주의가 필요합니다.'
        },
        '수': {
            personality: '지혜롭고 유연하며, 적응력이 뛰어납니다.',
            career: 'IT, 무역, 유통 분야에 적합합니다.',
            health: '신장과 방광에 주의가 필요합니다.'
        }
    }
};

// 띠별 성격과 운세
export const ZODIAC_ANIMAL_TRAITS = {
    '쥐': {
        personality: '영리하고 재치있으며 경제관념이 뛰어남',
        compatibility: ['용', '원숭이', '소'],
        incompatibility: ['말', '토끼']
    },
    '소': {
        personality: '성실하고 인내심이 강하며 신뢰할 수 있음',
        compatibility: ['뱀', '닭', '쥐'],
        incompatibility: ['양', '개', '용']
    },
    '호랑이': {
        personality: '용감하고 모험심이 강하며 정의로움',
        compatibility: ['말', '개', '돼지'],
        incompatibility: ['원숭이', '뱀']
    },
    '토끼': {
        personality: '온화하고 예민하며 예술적 감각이 뛰어남',
        compatibility: ['양', '돼지', '개'],
        incompatibility: ['닭', '용', '쥐']
    },
    '용': {
        personality: '카리스마있고 야심차며 리더십이 강함',
        compatibility: ['원숭이', '쥐', '닭'],
        incompatibility: ['개', '토끼', '용']
    },
    '뱀': {
        personality: '지혜롭고 직관력이 뛰어나며 신비로움',
        compatibility: ['닭', '소'],
        incompatibility: ['돼지', '호랑이', '원숭이']
    },
    '말': {
        personality: '자유롭고 활동적이며 낙관적임',
        compatibility: ['호랑이', '양', '개'],
        incompatibility: ['쥐', '소', '토끼']
    },
    '양': {
        personality: '온순하고 예술적이며 동정심이 많음',
        compatibility: ['토끼', '말', '돼지'],
        incompatibility: ['소', '개', '쥐']
    },
    '원숭이': {
        personality: '재치있고 창의적이며 재능이 다양함',
        compatibility: ['쥐', '용'],
        incompatibility: ['호랑이', '돼지']
    },
    '닭': {
        personality: '정확하고 완벽주의적이며 관찰력이 뛰어남',
        compatibility: ['소', '용', '뱀'],
        incompatibility: ['토끼', '개', '닭']
    },
    '개': {
        personality: '충실하고 정직하며 책임감이 강함',
        compatibility: ['호랑이', '토끼', '말'],
        incompatibility: ['용', '양', '닭']
    },
    '돼지': {
        personality: '관대하고 정직하며 헌신적임',
        compatibility: ['토끼', '양', '호랑이'],
        incompatibility: ['뱀', '원숭이', '돼지']
    }
};

// 만세력 데이터 export
export default {
    CHEONGAN,
    JIJI,
    YUKSHIP_GAPJA,
    JEOLGI,
    OHAENG_RELATIONS,
    TWELVE_FORTUNE,
    SHINSAL,
    SAJU_INTERPRETATIONS,
    ZODIAC_ANIMAL_TRAITS,
    getYearGapja,
    getMonthGapja,
    getDayGapja,
    getHourGapja
};