<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI 성격 유형 테스트 | doha.kr</title>
    <meta name="description" content="16가지 MBTI 성격 유형을 알아보는 정확한 심리 테스트. 나의 진짜 성격과 특성을 발견해보세요.">
    <meta name="keywords" content="MBTI, 성격테스트, 심리테스트, 성격유형, 16personalities">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="MBTI 성격 유형 테스트 | doha.kr">
    <meta property="og:description" content="16가지 MBTI 성격 유형을 알아보는 정확한 심리 테스트">
    <meta property="og:url" content="https://doha.kr/mbti-test.html">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://doha.kr/og-image.jpg">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7905640648499222" crossorigin="anonymous"></script>
    
    <!-- Kakao SDK -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.1.0/kakao.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            background-size: 300% 300%;
            animation: gradient 3s ease infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .header {
            margin-bottom: 30px;
        }

        .header nav {
            margin-bottom: 20px;
            text-align: right;
        }

        .header nav a {
            color: #667eea;
            text-decoration: none;
            margin-left: 20px;
            font-weight: 500;
            transition: color 0.3s;
        }

        .header nav a:hover {
            color: #764ba2;
        }

        h1 {
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .intro-screen, .test-screen, .result-screen {
            display: none;
        }

        .intro-screen.active, .test-screen.active, .result-screen.active {
            display: block;
        }

        .intro-content {
            text-align: left;
            margin: 30px 0;
        }

        .intro-content h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .intro-content p {
            color: #666;
            line-height: 1.7;
            margin-bottom: 20px;
        }

        .intro-content ul {
            color: #666;
            line-height: 1.7;
            margin-left: 20px;
        }

        .intro-content ul li {
            margin-bottom: 10px;
        }

        .start-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .progress-container {
            margin-bottom: 30px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #f0f0f0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            color: #666;
            font-size: 0.9rem;
        }

        .question {
            margin-bottom: 30px;
        }

        .question h3 {
            color: #333;
            font-size: 1.4rem;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .nav-btn {
            background: #f8f9fa;
            color: #666;
            border: 2px solid #e0e0e0;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .nav-btn:not(:disabled):hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .result-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .mbti-type {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .type-name {
            font-size: 1.5rem;
            margin-bottom: 20px;
            opacity: 0.9;
        }

        .type-description {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 30px;
            opacity: 0.95;
        }

        .characteristics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .characteristic {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .characteristic h4 {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .characteristic p {
            font-size: 0.9rem;
            opacity: 0.9;
            line-height: 1.5;
        }

        .share-section {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        .share-btn {
            background: #FEE500;
            color: #3A1D1D;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s;
        }

        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(254, 229, 0, 0.3);
        }

        .restart-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s;
        }

        .restart-btn:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
        }

        .footer {
            margin-top: 30px;
            color: #999;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .footer a {
            color: #667eea;
            text-decoration: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
                margin: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .characteristics {
                grid-template-columns: 1fr;
            }
            
            .share-btn, .restart-btn {
                display: block;
                width: 100%;
                margin: 10px 0;
            }
        }

        /* Google AdSense 스타일 */
        .ad-container {
            margin: 30px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <nav>
                <a href="index.html">테토-에겐 테스트</a>
                <a href="about.html">사이트 소개</a>
                <a href="contact.html">문의하기</a>
            </nav>
        </div>

        <!-- 인트로 화면 -->
        <div class="intro-screen active">
            <h1>MBTI 성격 유형 테스트</h1>
            <p class="subtitle">16가지 성격 유형으로 나의 진짜 모습을 발견해보세요</p>
            
            <div class="intro-content">
                <h3>🧠 MBTI란 무엇인가요?</h3>
                <p>MBTI(Myers-Briggs Type Indicator)는 개인의 선호도를 바탕으로 16가지 성격 유형으로 분류하는 성격 검사입니다. 각 유형은 4가지 선호 지표의 조합으로 구성됩니다.</p>
                
                <h3>📊 4가지 선호 지표</h3>
                <ul>
                    <li><strong>에너지 방향:</strong> 외향(E) vs 내향(I)</li>
                    <li><strong>인식 기능:</strong> 감각(S) vs 직관(N)</li>
                    <li><strong>판단 기능:</strong> 사고(T) vs 감정(F)</li>
                    <li><strong>생활 양식:</strong> 판단(J) vs 인식(P)</li>
                </ul>
                
                <h3>✨ 이 테스트의 특징</h3>
                <ul>
                    <li>총 20개의 신중하게 선별된 질문</li>
                    <li>각 질문은 MBTI 이론을 바탕으로 제작</li>
                    <li>정확한 성격 유형과 상세한 분석 제공</li>
                    <li>개인의 장점과 개선점 포함</li>
                </ul>
            </div>
            
            <button class="start-btn" onclick="startTest()">테스트 시작하기</button>
        </div>

        <!-- 테스트 화면 -->
        <div class="test-screen">
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text">
                    <span id="currentQuestion">1</span> / <span id="totalQuestions">20</span>
                </div>
            </div>

            <div class="question" id="questionContainer">
                <!-- 질문이 동적으로 표시됩니다 -->
            </div>

            <div class="navigation">
                <button class="nav-btn" id="prevBtn" onclick="previousQuestion()" disabled>이전</button>
                <button class="nav-btn" id="nextBtn" onclick="nextQuestion()" disabled>다음</button>
            </div>
        </div>

        <!-- 결과 화면 -->
        <div class="result-screen">
            <div class="result-card" id="resultCard">
                <!-- 결과가 동적으로 표시됩니다 -->
            </div>

            <div class="ad-container">
                <!-- Google AdSense -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-7905640648499222"
                     data-ad-slot="1234567890"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            </div>

            <div class="share-section">
                <button class="share-btn" onclick="shareToKakao()">카카오톡 공유</button>
                <button class="restart-btn" onclick="restartTest()">다시 테스트하기</button>
            </div>
        </div>

        <div class="footer">
            <p>© 2025 doha.kr | 모든 권리 보유</p>
            <p><a href="privacy.html">개인정보처리방침</a> | <a href="terms.html">이용약관</a></p>
        </div>
    </div>

    <script>
        // Kakao SDK 초기화
        if (typeof Kakao !== 'undefined') {
            Kakao.init('19d8ba832f94d513957adc17883c1282'); // 실제 앱 키로 교체 필요
        }

        // Google AdSense 초기화
        (adsbygoogle = window.adsbygoogle || []).push({});

        // 테스트 데이터
        const questions = [
            {
                question: "파티에서 당신은 어떤 모습인가요?",
                options: [
                    { text: "많은 사람들과 활발하게 대화하며 시간을 보낸다", type: "E" },
                    { text: "가까운 몇 명과 깊은 대화를 나누는 것을 선호한다", type: "I" }
                ]
            },
            {
                question: "새로운 프로젝트를 시작할 때 당신의 접근 방식은?",
                options: [
                    { text: "구체적인 사실과 데이터를 수집하여 단계별로 진행한다", type: "S" },
                    { text: "전체적인 비전과 가능성을 먼저 그려본다", type: "N" }
                ]
            },
            {
                question: "중요한 결정을 내릴 때 무엇을 우선시하나요?",
                options: [
                    { text: "논리적 분석과 객관적 사실", type: "T" },
                    { text: "사람들의 감정과 가치관", type: "F" }
                ]
            },
            {
                question: "일상생활에서 당신의 스타일은?",
                options: [
                    { text: "미리 계획을 세우고 체계적으로 행동한다", type: "J" },
                    { text: "상황에 따라 유연하게 대응한다", type: "P" }
                ]
            },
            {
                question: "에너지를 얻는 방법은?",
                options: [
                    { text: "사람들과 함께 있을 때 활력을 느낀다", type: "E" },
                    { text: "혼자만의 시간을 가질 때 재충전된다", type: "I" }
                ]
            },
            {
                question: "정보를 받아들일 때 어떤 것을 더 신뢰하나요?",
                options: [
                    { text: "직접 경험하고 확인할 수 있는 구체적인 정보", type: "S" },
                    { text: "직감과 상상력으로 파악하는 가능성", type: "N" }
                ]
            },
            {
                question: "갈등 상황에서 당신의 대처 방식은?",
                options: [
                    { text: "논리적으로 문제를 분석하고 해결책을 찾는다", type: "T" },
                    { text: "모든 사람의 감정을 고려하여 조화를 이루려 한다", type: "F" }
                ]
            },
            {
                question: "여행 계획을 세울 때 당신은?",
                options: [
                    { text: "세부 일정을 미리 정하고 예약을 완료한다", type: "J" },
                    { text: "대략적인 방향만 정하고 즉흥적으로 즐긴다", type: "P" }
                ]
            },
            {
                question: "회의에서 당신의 역할은?",
                options: [
                    { text: "적극적으로 의견을 제시하고 토론을 주도한다", type: "E" },
                    { text: "신중하게 들어보고 필요할 때만 발언한다", type: "I" }
                ]
            },
            {
                question: "문제 해결 시 어떤 접근을 선호하나요?",
                options: [
                    { text: "실질적이고 실현 가능한 해결책을 찾는다", type: "S" },
                    { text: "창의적이고 혁신적인 아이디어를 생각해본다", type: "N" }
                ]
            },
            {
                question: "비판을 받았을 때 당신의 반응은?",
                options: [
                    { text: "객관적으로 분석하여 개선점을 찾는다", type: "T" },
                    { text: "감정적으로 상처받지만 상대방을 이해하려 한다", type: "F" }
                ]
            },
            {
                question: "마감일이 있는 업무를 할 때?",
                options: [
                    { text: "미리미리 계획하여 여유있게 완성한다", type: "J" },
                    { text: "마감 압박감을 느낄 때 최고의 결과를 낸다", type: "P" }
                ]
            },
            {
                question: "스트레스를 받을 때 당신은?",
                options: [
                    { text: "친구들과 만나서 이야기하며 해결한다", type: "E" },
                    { text: "혼자서 조용히 생각하며 정리한다", type: "I" }
                ]
            },
            {
                question: "새로운 아이디어를 평가할 때?",
                options: [
                    { text: "현실적으로 실행 가능한지 먼저 검토한다", type: "S" },
                    { text: "얼마나 혁신적이고 창의적인지 본다", type: "N" }
                ]
            },
            {
                question: "팀 프로젝트에서 당신의 역할은?",
                options: [
                    { text: "효율성과 논리를 바탕으로 진행 방향을 제시한다", type: "T" },
                    { text: "팀원들의 의견을 조율하고 분위기를 맞춘다", type: "F" }
                ]
            },
            {
                question: "휴가를 보낼 때 선호하는 방식은?",
                options: [
                    { text: "방문할 곳과 활동을 미리 정해놓는다", type: "J" },
                    { text: "그날그날 기분에 따라 자유롭게 보낸다", type: "P" }
                ]
            },
            {
                question: "학습할 때 어떤 방법을 선호하나요?",
                options: [
                    { text: "토론하고 설명하면서 배우는 것이 효과적이다", type: "E" },
                    { text: "혼자서 책을 읽고 깊이 생각하며 배운다", type: "I" }
                ]
            },
            {
                question: "중요한 발표를 준비할 때?",
                options: [
                    { text: "구체적인 데이터와 사례를 중심으로 준비한다", type: "S" },
                    { text: "전체적인 흐름과 메시지에 집중한다", type: "N" }
                ]
            },
            {
                question: "의견이 다른 상황에서 당신은?",
                options: [
                    { text: "논리적 근거를 들어 자신의 주장을 관철한다", type: "T" },
                    { text: "상대방의 입장을 이해하고 타협점을 찾는다", type: "F" }
                ]
            },
            {
                question: "일을 마무리할 때 당신의 스타일은?",
                options: [
                    { text: "정해진 기준에 맞춰 완벽하게 마무리한다", type: "J" },
                    { text: "상황에 따라 유동적으로 조정하며 마무리한다", type: "P" }
                ]
            }
        ];

        let currentQuestionIndex = 0;
        let answers = [];
        let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

        // MBTI 유형 정보
        const mbtiTypes = {
            'INTJ': {
                name: '용의주도한 전략가',
                description: '상상력이 풍부하며 결단력 있는 전략가입니다. 모든 일에 계획을 세우고, 지식을 갈망하는 독립적인 성격으로 복잡한 문제를 해결하는 것을 즐깁니다.',
                characteristics: [
                    { title: '장점', content: '전략적 사고, 높은 지적 호기심, 강한 독립성' },
                    { title: '개선점', content: '감정 표현, 팀워크 스킬' },
                    { title: '적합한 직업', content: '과학자, 엔지니어, 변호사, 컨설턴트' },
                    { title: '연애 스타일', content: '지적인 대화를 중시하며 깊은 유대감을 추구' }
                ]
            },
            'INTP': {
                name: '논리적인 사색가',
                description: '끊임없이 새로운 지식에 목말라 하는 혁신가입니다. 조용하고 과묵하지만, 머릿속은 논리적인 분석과 창의적인 아이디어로 가득 차 있습니다.',
                characteristics: [
                    { title: '장점', content: '독창적 문제해결, 뛰어난 분석력, 객관적 시각' },
                    { title: '개선점', content: '실행력, 사회성' },
                    { title: '적합한 직업', content: '철학자, 교수, 연구원, 개발자' },
                    { title: '연애 스타일', content: '지적 자극과 자유로운 사고를 공유하는 관계 선호' }
                ]
            },
            'ENTJ': {
                name: '대담한 통솔자',
                description: '타고난 리더십과 카리스마로 사람들을 이끄는 데 능숙합니다. 목표 지향적이고 결단력이 강하며, 비효율적인 것을 참지 못하는 열정적인 전략가입니다.',
                characteristics: [
                    { title: '장점', content: '강력한 리더십, 뛰어난 추진력, 체계적 사고' },
                    { title: '개선점', content: '감정적 공감, 인내심' },
                    { title: '적합한 직업', content: 'CEO, 정치인, 군장교, 투자은행가' },
                    { title: '연애 스타일', content: '열정적이고 야망 있는 파트너를 선호하며 주도적 역할' }
                ]
            },
            'ENTP': {
                name: '뜨거운 논쟁을 즐기는 변론가',
                description: '지적인 호기심이 왕성하고, 새로운 아이디어를 탐구하며 논쟁을 즐깁니다. 재치 있고 유머러스하며, 다방면에 관심이 많은 팔방미인입니다.',
                characteristics: [
                    { title: '장점', content: '창의적 아이디어, 뛰어난 임기응변, 설득력 있는 화술' },
                    { title: '개선점', content: '꾸준함, 규칙 준수' },
                    { title: '적합한 직업', content: '발명가, 마케터, 정치컨설턴트, 배우' },
                    { title: '연애 스타일', content: '재치 있는 대화와 새로운 경험을 함께하는 자유로운 관계' }
                ]
            },
            'INFJ': {
                name: '선의의 옹호자',
                description: '깊은 통찰력과 직관력으로 사람들의 가능성을 꿰뚫어 봅니다. 조용하고 신비로운 분위기를 풍기지만, 내면에는 강한 신념과 열정이 있는 이상주의자입니다.',
                characteristics: [
                    { title: '장점', content: '뛰어난 공감능력, 강한 신념과 영감, 통찰력 있는 조언' },
                    { title: '개선점', content: '현실적 사고, 자기관리' },
                    { title: '적합한 직업', content: '상담사, 사회복지사, 작가, 교사' },
                    { title: '연애 스타일', content: '정신적 교감과 깊은 유대감을 중시하는 헌신적 관계' }
                ]
            },
            'INFP': {
                name: '열정적인 중재자',
                description: '따뜻하고 다정하며, 낭만적인 이상주의자입니다. 자신의 가치관과 신념을 중요하게 생각하며, 조화로운 세상을 꿈꾸는 감성적인 성격입니다.',
                characteristics: [
                    { title: '장점', content: '풍부한 감성과 창의력, 타인에 대한 깊은 이해, 강한 윤리의식' },
                    { title: '개선점', content: '현실감각, 감정조절' },
                    { title: '적합한 직업', content: '시인, 소설가, 심리학자, 디자이너' },
                    { title: '연애 스타일', content: '운명적이고 낭만적인 사랑을 꿈꾸며 깊은 정서적 유대 추구' }
                ]
            },
            'ENFJ': {
                name: '정의로운 사회운동가',
                description: '타고난 카리스마와 사교성으로 사람들을 이끄는 데 능숙합니다. 다른 사람의 성장을 돕는 것에서 보람을 느끼며, 긍정적인 에너지가 넘치는 성격입니다.',
                characteristics: [
                    { title: '장점', content: '뛰어난 소통능력, 긍정적 영향력, 타인을 돕는 열정' },
                    { title: '개선점', content: '현실적 판단, 거절 능력' },
                    { title: '적합한 직업', content: '교사, 상담사, 인사담당자, 코치' },
                    { title: '연애 스타일', content: '상대방의 성장을 돕고 깊은 감정적 연결을 추구하는 헌신적 관계' }
                ]
            },
            'ENFP': {
                name: '재기발랄한 활동가',
                description: '열정적이고 창의적이며, 새로운 가능성에 항상 열려있는 자유로운 영혼입니다. 다른 사람들에게 영감을 주고, 긍정적인 에너지로 주변을 밝게 만드는 성격입니다.',
                characteristics: [
                    { title: '장점', content: '뛰어난 의사소통, 창의적 사고, 높은 적응력' },
                    { title: '개선점', content: '집중력, 세부사항 관리' },
                    { title: '적합한 직업', content: '광고기획자, 기자, 상담사, 예술가' },
                    { title: '연애 스타일', content: '열정적이고 로맨틱하며 새로운 경험을 함께 나누는 관계 선호' }
                ]
            },
            'ISTJ': {
                name: '청렴결백한 논리주의자',
                description: '실용적이고 사실에 근거한 접근을 선호하는 성실한 성격입니다. 책임감이 강하고 신뢰할 수 있으며, 전통과 질서를 중시하는 보수적인 성향을 가지고 있습니다.',
                characteristics: [
                    { title: '장점', content: '높은 책임감, 체계적 사고, 신뢰성' },
                    { title: '개선점', content: '유연성, 변화 적응력' },
                    { title: '적합한 직업', content: '회계사, 은행원, 공무원, 의사' },
                    { title: '연애 스타일', content: '안정적이고 진실한 관계를 추구하며 헌신적이고 책임감 있는 사랑' }
                ]
            },
            'ISFJ': {
                name: '용감한 수호자',
                description: '따뜻하고 친근하며, 다른 사람을 돕는 것을 좋아하는 배려심 깊은 성격입니다. 조화로운 환경을 만들기 위해 노력하며, 타인의 필요를 자신의 일처럼 여기는 이타적인 성향입니다.',
                characteristics: [
                    { title: '장점', content: '배려심, 꼼꼼함, 협조성' },
                    { title: '개선점', content: '자기주장, 변화 수용' },
                    { title: '적합한 직업', content: '간호사, 교사, 사서, 상담사' },
                    { title: '연애 스타일', content: '상대방을 세심하게 배려하고 안정적인 관계를 추구하는 헌신적 사랑' }
                ]
            },
            'ESTJ': {
                name: '엄격한 관리자',
                description: '조직적이고 실용적인 리더십을 발휘하는 성격입니다. 전통과 질서를 중시하며, 효율적이고 체계적인 방식으로 목표를 달성하는 것을 선호하는 현실주의자입니다.',
                characteristics: [
                    { title: '장점', content: '강한 리더십, 조직력, 현실적 판단' },
                    { title: '개선점', content: '융통성, 감정적 배려' },
                    { title: '적합한 직업', content: '관리자, 은행장, 판사, 경찰관' },
                    { title: '연애 스타일', content: '안정적이고 전통적인 관계를 선호하며 책임감 있는 파트너십 추구' }
                ]
            },
            'ESFJ': {
                name: '사교적인 외교관',
                description: '따뜻하고 친근하며, 다른 사람들과의 조화를 중시하는 사교적인 성격입니다. 타인의 감정에 민감하고, 주변 사람들이 편안함을 느낄 수 있도록 배려하는 성향입니다.',
                characteristics: [
                    { title: '장점', content: '뛰어난 대인관계, 협조성, 배려심' },
                    { title: '개선점', content: '비판 수용, 독립적 사고' },
                    { title: '적합한 직업', content: '간호사, 교사, 이벤트플래너, 인사담당자' },
                    { title: '연애 스타일', content: '상대방의 행복을 우선시하며 따뜻하고 배려심 깊은 관계 추구' }
                ]
            },
            'ISTP': {
                name: '만능 재주꾼',
                description: '조용하고 과묵하지만 손재주가 뛰어나며, 문제 해결에 탁월한 능력을 보이는 실용적인 성격입니다. 독립적이고 적응력이 뛰어나며, 현재에 집중하는 성향입니다.',
                characteristics: [
                    { title: '장점', content: '뛰어난 손재주, 문제해결능력, 적응력' },
                    { title: '개선점', content: '감정표현, 장기계획' },
                    { title: '적합한 직업', content: '기계공, 파일럿, 외과의사, 운동선수' },
                    { title: '연애 스타일', content: '자유롭고 부담 없는 관계를 선호하며 행동으로 사랑을 표현' }
                ]
            },
            'ISFP': {
                name: '호기심 많은 예술가',
                description: '조용하고 친근하며, 예술적 감각이 뛰어난 감성적인 성격입니다. 자신만의 가치관을 중시하고, 아름다운 것들을 추구하며, 타인에게 해를 끼치는 것을 극도로 싫어합니다.',
                characteristics: [
                    { title: '장점', content: '예술적 감각, 온화한 성격, 개방적 태도' },
                    { title: '개선점', content: '자기주장, 계획성' },
                    { title: '적합한 직업', content: '예술가, 디자이너, 음악가, 사진작가' },
                    { title: '연애 스타일', content: '로맨틱하고 감성적인 관계를 추구하며 상대방의 독특함을 존중' }
                ]
            },
            'ESTP': {
                name: '모험을 즐기는 사업가',
                description: '에너지가 넘치고 행동력이 뛰어난 현실주의자입니다. 새로운 경험을 즐기고, 위험을 무릅쓰는 것을 두려워하지 않으며, 현재 순간을 최대한 즐기는 성격입니다.',
                characteristics: [
                    { title: '장점', content: '뛰어난 행동력, 사교성, 위기대응능력' },
                    { title: '개선점', content: '인내심, 장기계획' },
                    { title: '적합한 직업', content: '영업사원, 기업가, 연예인, 운동선수' },
                    { title: '연애 스타일', content: '활동적이고 즐거운 관계를 선호하며 즉흥적이고 열정적인 사랑' }
                ]
            },
            'ESFP': {
                name: '자유로운 영혼의 연예인',
                description: '활발하고 친근하며, 사람들과 함께 있는 것을 즐기는 사교적인 성격입니다. 즐거움을 추구하고, 다른 사람들에게 기쁨을 주는 것을 좋아하는 낙천적인 성향입니다.',
                characteristics: [
                    { title: '장점', content: '뛰어난 사교성, 유연성, 긍정적 에너지' },
                    { title: '개선점', content: '계획성, 집중력' },
                    { title: '적합한 직업', content: '연예인, 이벤트플래너, 유치원교사, 간호사' },
                    { title: '연애 스타일', content: '즐겁고 활기찬 관계를 추구하며 상대방과 함께하는 모든 순간을 소중히 여김' }
                ]
            }
        };

        function startTest() {
            document.querySelector('.intro-screen').classList.remove('active');
            document.querySelector('.test-screen').classList.add('active');
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestionIndex];
            const container = document.getElementById('questionContainer');
            
            container.innerHTML = `
                <h3>${question.question}</h3>
                <div class="options">
                    ${question.options.map((option, index) => `
                        <div class="option" onclick="selectOption(${index})" data-index="${index}">
                            ${option.text}
                        </div>
                    `).join('')}
                </div>
            `;
            
            updateProgress();
            updateNavigation();
        }

        function selectOption(index) {
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            options[index].classList.add('selected');
            
            answers[currentQuestionIndex] = index;
            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            if (answers[currentQuestionIndex] === undefined) return;
            
            const selectedType = questions[currentQuestionIndex].options[answers[currentQuestionIndex]].type;
            scores[selectedType]++;
            
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                showResult();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                const selectedType = questions[currentQuestionIndex].options[answers[currentQuestionIndex]].type;
                scores[selectedType]--;
                
                currentQuestionIndex--;
                showQuestion();
                
                if (answers[currentQuestionIndex] !== undefined) {
                    const options = document.querySelectorAll('.option');
                    options[answers[currentQuestionIndex]].classList.add('selected');
                    document.getElementById('nextBtn').disabled = false;
                }
            }
        }

        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
        }

        function updateNavigation() {
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('nextBtn').disabled = answers[currentQuestionIndex] === undefined;
        }

        function calculateMBTI() {
            let type = '';
            type += scores.E > scores.I ? 'E' : 'I';
            type += scores.S > scores.N ? 'S' : 'N';
            type += scores.T > scores.F ? 'T' : 'F';
            type += scores.J > scores.P ? 'J' : 'P';
            return type;
        }

        function showResult() {
            const mbtiType = calculateMBTI();
            const typeInfo = mbtiTypes[mbtiType];
            
            document.querySelector('.test-screen').classList.remove('active');
            document.querySelector('.result-screen').classList.add('active');
            
            const resultCard = document.getElementById('resultCard');
            resultCard.innerHTML = `
                <div class="mbti-type">${mbtiType}</div>
                <div class="type-name">${typeInfo.name}</div>
                <div class="type-description">${typeInfo.description}</div>
                <div class="characteristics">
                    ${typeInfo.characteristics.map(char => `
                        <div class="characteristic">
                            <h4>${char.title}</h4>
                            <p>${char.content}</p>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function shareToKakao() {
            if (typeof Kakao !== 'undefined' && Kakao.Share) {
                const mbtiType = calculateMBTI();
                const typeInfo = mbtiTypes[mbtiType];
                
                Kakao.Share.sendDefault({
                    objectType: 'feed',
                    content: {
                        title: `나의 MBTI 유형: ${mbtiType} (${typeInfo.name})`,
                        description: typeInfo.description,
                        imageUrl: 'https://doha.kr/og-image.jpg',
                        link: {
                            mobileWebUrl: 'https://doha.kr/mbti-test.html',
                            webUrl: 'https://doha.kr/mbti-test.html'
                        }
                    },
                    buttons: [{
                        title: '나도 테스트하기',
                        link: {
                            mobileWebUrl: 'https://doha.kr/mbti-test.html',
                            webUrl: 'https://doha.kr/mbti-test.html'
                        }
                    }]
                });
            } else {
                alert('카카오톡 공유 기능을 준비 중입니다.');
            }
        }

        function restartTest() {
            currentQuestionIndex = 0;
            answers = [];
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            
            document.querySelector('.result-screen').classList.remove('active');
            document.querySelector('.intro-screen').classList.add('active');
        }
    </script>
</body>
</html>